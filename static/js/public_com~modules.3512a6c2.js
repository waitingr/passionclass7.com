(window.webpackJsonp=window.webpackJsonp||[]).push([["pages/modules~advanced/menusetting4Web1~album/edit/edit~city/service_edit/service_edit~complain/public_com~modules"],{"./src/pages/modules/cardticket/member_info_flag.js":function(e,t){e.exports={sys_info:["手机号","姓名","性别","所在地区","生日","身份证号","邮箱","详细地址","学历","职业","行业","收入","爱好"],info_flag:[1,4096,2,4,8,0,32,64,128,256,512,1024,2048],flag2info:function(e){for(var t=[],i=0;i<this.info_flag.length;i++)this.info_flag[i]&e&&t.push(this.sys_info[i]);return t},info2flag:function(e){for(var t=0,i=0;i<e.length;i++){var s=function(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}(this.sys_info,e[i]);0<=s&&(t|=this.info_flag[s])}return t}}},"./src/pages/modules/cardticket/parse_data.js":function(t,i,e){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=e("./src/pages/modules/cardticket/member_info_flag.js"),_=e("./src/pages/modules/utils/str_util.js"),v={DISCOUNT:"2",MEMBER_CARD:"10",GROUPON:"1",GIFT:"3",CASH:"4",GENERAL_COUPON:"0",SCENIC_TICKET:"21",MOVIE_TICKET:"22"},y={CODE_TYPE_TEXT:0,CODE_TYPE_BARCODE:1,CODE_TYPE_QRCODE:2},b={CARD_STATUS_INIT:0,CARD_STATUS_NOT_VERIFY:1,CARD_STATUS_VERIFY_FAIL:2,CARD_STATUS_VERIFY_OK:3,CARD_STATUS_DELETE:4,CARD_STATUS_SYS_DELETE:5,CARD_STATUS_DISPATCH:6,CARD_STATUS_SYS_OFF_SHELF:7,CARD_STATUS_EXPIRED:8},k={DATE_TYPE_FIX_TIME_RANGE:1,DATE_TYPE_FIX_TERM:2,DATE_TYPE_PERMANENT:100};function d(e,t){return"number"!=typeof e&&(e=praseFloat(e),isNaN(e))?0:(t=t||2,parseFloat(e.toFixed(t)))}function m(e){return/^https?:\/\/mp.weixin.qq.com\/s/.test(e)?1:/^http:\/\/mp.weixin.qq.com\/bizmall\/cardshelf/.test(e)?2:/^http:\/\/mp.weixin.qq.com\/bizmall\/mallshelf/.test(e)?3:4}function h(e){return e?_.html(e+"",!1):""}function g(e){var t=e.url||"";return 4==e.url_type?t.replace("http://",""):h(t)}function n(e){var t={};if(!(e=function(e){var t=v[e.card_type]||e.card_type;switch(t+=""){case"2":e=e.discount;break;case"1":e=e.groupon;break;case"3":e=e.gift;break;case"4":e=e.cash;break;case"0":e=e.general_coupon;break;case"10":e=e.member_card;break;case"21":e=e.scenic_ticket;break;case"22":e=e.movie_ticket;break;default:e=e.general_coupon||e.coupon}return e?(e.type=t,e):null}(e)))return null;f(t,e),f(t,e.base_info),t.background_pic_url=e.background_pic_url;var i=e.base_info.date_info||{},i=(t.time_type=k[i.type]||i.type,1==t.time_type&&(t.begin_time=i.begin_timestamp,t.end_time=i.end_timestamp),t.from_day=i.fixed_begin_term||0,t.fixed_term=i.fixed_term||30,t.quantity=e.base_info.sku.quantity,t.shop_id_list=e.base_info.shop_id_list,t.location_id_list=e.base_info.location_id_list,y[t.code_type]),i=(t.code_type=void 0!==i?i:t.code_type,void 0===t.code_type&&(t.code_type=1),t.least_cost=e.least_cost&&e.least_cost/100,t.reduce_cost=e.reduce_cost&&e.reduce_cost/100,"0"==t.least_cost&&(t.least_cost=""),t.discount=t.discount&&(100-t.discount)/10,1==t.type?t.detail=t.deal_detail:t.detail=t.default_detail,/^http/.test(t.logo_url)||(t.logo_url=""),t.shop_type||(t.shop_type=t.location_id_list&&t.location_id_list.length?2:3),t.auto_update_new_location&&(t.shop_type=1),t.func_flag?t.isnew=!!(16&t.func_flag):t.isnew=!1,t.func_flag?t.ispay=64&t.func_flag:t.ispay=!1,t.func_flag&&(t.show_in_nearby=!1),t.ispay&&(t.can_share=!0),t.ispay&&(t.detail=t.detail?t.detail.replace(/\n微信价：.*?元$/gm,""):""),t.price=d(e.base_info.sku.price/100),t.original_price=d(e.base_info.sku.original_price/100),1==t.create_source&&(t.isnew=!0),1==t.time_type&&t.end_time<new Date/1e3&&(t.is_expire=!0),t.is_intercomm=16384&t.func_flag,void 0!==e.base_info.task_info&&(t.is_from_intercomm=!0,t.task_info=e.base_info.task_info),t.is_from_intercomm&&(t.isnew=!0),t.status=b[t.status]||t.status,t.discount&&(t.supply_discount=!0),10==t.type?(r=[],t.promotion_url_name&&((o={name:t.promotion_url_name,tips:t.promotion_url_sub_title,url:t.promotion_url}).url_type=m(o.url),o.url=g(o),r=[o]),e.custom_cell1&&(e.custom_cell1.url_type=m(e.custom_cell1.url),e.custom_cell1.url=g(e.custom_cell1),r.push(e.custom_cell1)),e.custom_cell2&&(e.custom_cell2.url_type=m(e.custom_cell2.url),e.custom_cell2.url=g(e.custom_cell2),r.push(e.custom_cell2)),t.config_url=r,i=e.required_info||{info_flag:0},c=e.optional_info||{info_flag:0},t.require_keywords=u.flag2info(i.info_flag),t.option_keywords=u.flag2info(c.info_flag),t.require_self_keywords=i.field_list,t.option_self_keywords=c.field_list,t.must_activate=!t.auto_activate,t.supply_discount&&(t.prerogative=t.prerogative.replace(/^用卡可享受.*?折优惠\n/,"")),t.quantity="--",t.can_modify=!!e.required_info&&e.required_info.can_modify||!!e.optional_info&&e.optional_info.can_modify,t.supply_balance=e.supply_balance):(r=[],t.custom_url_name&&((o={name:t.custom_url_name,tips:t.custom_url_sub_title,url:t.custom_url}).url_type=m(o.url),o.url=g(o),r=[o]),t.config_url=r),e.base_info),s=(c=10==t.type?e.modify_msg_operation||{_notexist:!0}:i.consume_msg_operation||{_notexist:!0},t.msg_operation=c.url_cell||c.card_cell||{_notexist:!0},t.msg_operation._notexist||(t.msg_operation._type=t.msg_operation.card_id?5:m(t.msg_operation.url),t.msg_operation.url&&(t.msg_operation.url=h(t.msg_operation.url))),t.msg_operation.endtime=t.msg_operation.end_time,t.bonus_rule=e.bonus_rule||{},t.bonus_rule.init_bonus=t.bonus_rule.init_increase_bonus,t.bonus_rule.cost_money_unit=t.bonus_rule.cost_money_unit&&t.bonus_rule.cost_money_unit/100,t.bonus_rule.reduce_money=t.bonus_rule.reduce_money&&t.bonus_rule.reduce_money/100,t.bonus_rule.least_money_to_use_bonus=t.bonus_rule.least_money_to_use_bonus&&t.bonus_rule.least_money_to_use_bonus/100,i.sub_merchant_info&&(t.sub_merchant_id=i.sub_merchant_info.merchant_id),e.advanced_info);if(t.use_hours=[],s){t.is_sns_card=1==s.gen_type,t.orig_time_limit=s.time_limit||[],t.text_image_list=s.text_image_list||[],t.time_limit=[];var p={};if(s.time_limit)for(var a=0;a<s.time_limit.length;a++){var n=s.time_limit[a];p[n.type]||(p[n.type]=!0,t.time_limit.push(n))}1!=t.create_source&&s.time_limit&&s.time_limit.length&&s.time_limit[0].end_hour&&(t.use_hours.push(s.time_limit[0]),1<s.time_limit.length&&s.time_limit[0].type==s.time_limit[1].type&&t.use_hours.push(s.time_limit[1])),t.consume_share_self_num=s.consume_share_self_num,0<t.consume_share_self_num?(t.consume_is_share=!0,t.consume_share_type=1):s.consume_share_card_list&&s.consume_share_card_list.length?(t.consume_is_share=!0,t.consume_share_type=2,t.consume_share_card_id=s.consume_share_card_list[0].card_id):t.consume_is_share=!1,t.business_service=s.business_service;var o=s.abstract;o&&(t.abstract=o.abstract,t.cover_logo=o.icon_url_list?o.icon_url_list[0]:"")}t.is_quit_money=t.func_flag&1<<22,t.can_edit_quantity=!t.is_quit_money&&10!=t.type&&!t.is_from_intercomm&&((3==t.status||5==t.status||6==t.status)&&t.is_sns_card&&!t.is_expire||!t.is_sns_card),t.is_sns_card&&(t.isnew=!0),t.isnew||(t.quantity="--"),3==t.type&&t.is_sns_card&&(t.gift_title=t.title,(l=s.use_condition)?l.least_cost?t.title=_.sprintf("满%s送%s",l.least_cost/100,t.gift_title):l.object_use_for?t.title=_.sprintf("买%s送%s",l.object_use_for,t.gift_title):t.title=t.gift_title+(t.gift_num||"")+(t.gift_unit||""):t.title=t.gift_title+(t.gift_num||"")+(t.gift_unit||"")),t.pay_info=i.pay_info&&i.pay_info.swipe_card||{};65536&t.func_flag?t.dispose_method=1:(r=t.func_flag&1<<24,t.pay_info.is_swipe_card?(t.dispose_method=4,t.code_type=1e4):r?(t.dispose_method=2,t.code_type=1e4):t.dispose_method=3);var r,l,c=t.pay_info;if(c.auditing_info_list||(c.auditing_info_list=[]),c.is_swipe_card){e=c.auditing_info_list;if(e.length){o=e[e.length-1];if(0==o.mid_list.length?c.swipe_card_status=1:1==o.ret?c.swipe_card_status=c.is_active?0:3:c.swipe_card_status=2,o.trans_buff){i=_.html(o.trans_buff,!1);try{i=JSON.parse(i)}catch(e){i=""}o.trans_buff=i,c.last_audit_item=o}}else 0==t.quantity?c.swipe_card_status=4:c.swipe_card_status=0}return!c.is_swipe_card||1!=c.swipe_card_status&&3!=c.swipe_card_status||(t.can_edit_quantity=!1),s&&s.consume_cell_info&&(t.need_verify_code=s.consume_cell_info.need_verify_code,t.need_remark=s.consume_cell_info.need_remark),t._can_global_edit=!t.is_from_intercomm&&(!t.is_sns_card||t.is_sns_card&&!t.is_expire&&(3==t.status||5==t.status||6==t.status)||t.is_sns_card&&(1==t.status||2==t.status)),(l=s&&s.use_condition)&&(t.use_condition_least_cost=l.least_cost/100||"",t.accept_category=l.accept_category,t.reject_category=l.reject_category,t.can_use_with_other_discount=l.can_use_with_other_discount,t.can_use_with_membercard=l.can_use_with_membercard,t.object_use_for=l.object_use_for,t.has_condition=l.least_cost||l.object_use_for||l.accept_category||l.reject_category||!l.can_use_with_other_discount,3==t.type&&(t.object_use_for?t.use_condition_least_cost_type=2:t.use_condition_least_cost_type=1)),t.is_sns_card&&3==t.type&&(t.has_condition=!0),t}function f(e,t){for(var i in t)t.hasOwnProperty(i)&&"object"!==s(t[i])&&(e[i]=t[i]);return e}t.exports={parse_cardticket:n,parse_cardlist:function(e){for(var t={},i=[],s=0;s<e.length;s++){var a=n(e[s]);a&&(t[a.id]=a,i.push(a))}return{card_cache:t,card_list:i}},url_type:m}},"./src/pages/modules/common/album_utils.js":function(e,t){var a=void 0===arguments?void 0:arguments;function i(t,e){var i,s=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)),s}function r(s){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach(function(e){var t,i;t=s,i=a[e=e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(a,e))})}return s}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(0<a.length)for(var i in t){var s;void 0!==t[i]&&(s=new RegExp("({"+i+"})","g"),e=e.replace(s,t[i]))}return e}e.exports={getTypeName:function(e){return{0:"图文",5:"视频",8:"音频"}[e]},notMaterial:function(e){var t=Number(e.type);return t?9===t||74===t:!e.is_material},originalCheckResult:function(e){var t=e.item,e=e.isMediaAccount,e=void 0!==e&&e,i={sendType:0,article_title:t.article_title,source_url:t.source_url,source_title:t.source_title,idx:t.idx},s=Number(t.appeal_status)||0;return i.complainInfoUrl="/cgi-bin/announce?action=getannouncement&key=11540820414s4Fh8&version=1&lang=zh_CN&platform=2",i.complainUrl="/cgi-bin/appmsgcopyright?action=appeal&original_type="+t.source_type+"&original_url="+encodeURIComponent(t.source_url)+"&article_url="+encodeURIComponent(t.article_url)+"&article_title="+t.article_title,2===s?i.reason="原创校验失败的申诉有效期为2小时，目前该申诉已过期。":3===s?i.reason="该内容的申诉审核不通过，申诉失败，详情请查看对应站内信通知。":t.source_info.is_pay_subscribe||"EN_SOURCE_REPRINT_STATUS_REJECT_REPRINT"===t.source_info.source_reprint_status||"EN_SOURCE_REPRINT_STATUS_REPRINT_WITH_MODIFY"===t.source_info.source_reprint_status||"EN_SOURCE_REPRINT_STATUS_REPRINT_WITHOUT_MODIFY"===t.source_info.source_reprint_status?(1===t.user_source?i.reason=n('该内容与原创内容<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，将替换成分享样式，分享内容不可发布到合集，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）',i):i.reason=n('该内容与原创内容<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，将替换成分享样式，分享内容不可发布到合集，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）',i),i.sendType=2):"EN_SOURCE_REPRINT_STATUS_IN_WHITE_LIST_WITH_SOURCE"===t.source_info.source_reprint_status?(i.reason=n('该内容已被原创内容<a href="{source_url}" target="_blank">《{source_title}》</a>纳入白名单，转载内容不可发布到合集，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）',i),i.sendType=3,i.reprintTypeShow=!1,i.reprintType="white"):"EN_SOURCE_REPRINT_STATUS_IN_WHITE_LIST_WITHOUT_SOURCE"===t.source_info.source_reprint_status?(i.reason=n('该内容已被原创内容<a href="{source_url}" target="_blank">《{source_title}》</a>纳入白名单，转载内容不可发布到合集，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）',i),i.sendType=3,i.reprintTypeShow=!1,i.double=!0,i.reprintType="white"):"EN_SOURCE_REPRINT_STATUS_UNDECLARE"===t.source_info.source_reprint_status&&9===t.source_type?(i.reason=n(e?'该内容与历史内容<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，如选择不声明原创可发布，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）':'该内容与历史内容<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，非原创内容不可发布到合集，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）',i),i.sendType=1):"EN_SOURCE_REPRINT_STATUS_UNDECLARE"!==t.source_info.source_reprint_status||2!==t.source_type&&3!==t.source_type?"EN_SOURCE_REPRINT_STATUS_UNDECLARE"===t.source_info.source_reprint_status&&4===t.source_type?(i.sendType=1,4===t.black_type?i.black_name="公共公开信息":6===t.black_type?i.black_name="网络整合信息":5===t.black_type?i.black_name="营销宣传信息":i.black_name="默认类型",i.reason=n(e?'该内容与{black_name}<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，如选择不声明原创可发布，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）':'该内容与{black_name}<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，非原创内容不可发布到合集，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）',i)):1===t.source_type&&(1===t.user_source?i.reason=n('该内容与原创内容<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，将替换成分享样式，分享内容不可发布到合集，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）',i):i.reason=n('该内容与原创内容<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，将替换成分享样式，分享内容不可发布到合集，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）',i),i.sendType=2):(i.reason=n(e?'该内容与时事新闻<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，如选择不声明原创可发布，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）':'该内容与时事新闻<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，非原创内容不可发布到合集，如有异议可<a href="{complainUrl}" target="_blank">申诉</a>（2小时内有效） （<a href="{complainInfoUrl}" target="_blank">查看申诉指引</a>）',i),i.sendType=1),i.word="",i},publishStatusCheckResult:function(e){var t=e.item,e=e.itemAppealStatus,i={sendType:0,article_title:t.article_title,source_url:t.source_url,source_title:t.source_title,idx:t.idx},e=Number(e)||0;return i.complainInfoUrl="/cgi-bin/announce?action=getannouncement&key=11540820414s4Fh8&version=1&lang=zh_CN&platform=2",i.complainUrl="/cgi-bin/appmsgcopyright?action=appeal&original_type="+t.source_type+"&original_url="+encodeURIComponent(t.source_url)+"&article_url="+encodeURIComponent(t.article_url)+"&article_title="+t.article_title,i.reprintUrl="/cgi-bin/announce?action=getannouncement&key=11622622313ulYm4&version=1&lang=zh_CN&platform=2",2===e?i.reason="原创校验失败的申诉有效期为2小时，目前该申诉已过期。":3===e?i.reason="该内容的申诉审核不通过，申诉失败，详情请查看对应站内信通知。":t.source_info.is_pay_subscribe||"EN_SOURCE_REPRINT_STATUS_REJECT_REPRINT"===t.source_info.source_reprint_status||"EN_SOURCE_REPRINT_STATUS_REPRINT_WITH_MODIFY"===t.source_info.source_reprint_status||"EN_SOURCE_REPRINT_STATUS_REPRINT_WITHOUT_MODIFY"===t.source_info.source_reprint_status?(1===t.user_source?i.reason=n('该内容与原创文章<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，如有异议<a href="{complainUrl}" target="_blank">点击申诉</a>（<a href="{complainInfoUrl}" target="_blank">申诉指引</a>）。',i):i.reason=n('该内容与原创文章<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，如有异议<a href="{complainUrl}" target="_blank">点击申诉</a>（<a href="{complainInfoUrl}" target="_blank">申诉指引</a>）；如需其他样式发布，建议联系该公众号管理员添加白名单后通过官方转载路径发布 （<a href="{reprintUrl}" target="_blank">转载指引</a>）。',i),i.sendType=2):"EN_SOURCE_REPRINT_STATUS_IN_WHITE_LIST_WITH_SOURCE"===t.source_info.source_reprint_status?(i.reason=n('该内容已被原创文章<a href="{source_url}" target="_blank">《{source_title}》</a>纳入白名单，平台规定同一原创内容只能由一个帐号进行原创声明，如有异议<a href="{complainUrl}" target="_blank">点击申诉</a>（<a href="{complainInfoUrl}" target="_blank">申诉指引</a>）；如需转载可通过官方转载路径发布（<a href="{reprintUrl}" target="_blank">转载指引</a>）。',i),i.sendType=3,i.reprintTypeShow=!1,i.reprintType="white"):"EN_SOURCE_REPRINT_STATUS_IN_WHITE_LIST_WITHOUT_SOURCE"===t.source_info.source_reprint_status?(i.reason=n('该内容已被原创文章<a href="{source_url}" target="_blank">《{source_title}》</a>纳入白名单，平台规定同一原创内容只能由一个帐号进行原创声明，如有异议<a href="{complainUrl}" target="_blank">点击申诉</a>（<a href="{complainInfoUrl}" target="_blank">申诉指引</a>）；如需转载可通过官方转载路径发布（<a href="{reprintUrl}" target="_blank">转载指引</a>）。',i),i.sendType=3,i.reprintTypeShow=!1,i.double=!0,i.reprintType="white"):"EN_SOURCE_REPRINT_STATUS_UNDECLARE"===t.source_info.source_reprint_status&&9===t.source_type?(i.reason=n('该内容与历史文章<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，如有异议<a href="{complainUrl}" target="_blank">点击申诉</a>（<a href="{complainInfoUrl}" target="_blank">申诉指引</a>）。',i),i.sendType=1):"EN_SOURCE_REPRINT_STATUS_UNDECLARE"!==t.source_info.source_reprint_status||2!==t.source_type&&3!==t.source_type?"EN_SOURCE_REPRINT_STATUS_UNDECLARE"===t.source_info.source_reprint_status&&4===t.source_type?(i.sendType=1,4===t.black_type?i.black_name="公共公开信息":6===t.black_type?i.black_name="网络整合信息":5===t.black_type?i.black_name="营销宣传信息":i.black_name="默认类型",i.reason=n('该内容与{black_name}<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，如有异议<a href="{complainUrl}" target="_blank">点击申诉</a>（<a href="{complainInfoUrl}" target="_blank">申诉指引</a>）。',i)):1===t.source_type&&(1===t.user_source?i.reason=n('该内容与原创文章<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，如有异议<a href="{complainUrl}" target="_blank">点击申诉</a>（<a href="{complainInfoUrl}" target="_blank">申诉指引</a>）。',i):i.reason=n('该内容与原创文章<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，如有异议<a href="{complainUrl}" target="_blank">点击申诉</a>（<a href="{complainInfoUrl}" target="_blank">申诉指引</a>）；如需其他样式发布，建议联系该公众号管理员添加白名单后通过官方转载路径发布 （<a href="{reprintUrl}" target="_blank">转载指引</a>）。',i),i.sendType=2):(i.reason=n('该内容与新闻库文章<a href="{source_url}" target="_blank">《{source_title}》</a>相似度过高，不能声明原创，如有异议<a href="{complainUrl}" target="_blank">点击申诉</a>（<a href="{complainInfoUrl}" target="_blank">申诉指引</a>）。',i),i.sendType=1),i.word="",i},ordinaryCheckResult:function(e){var t="";switch(e){case"67010":t="该图文消息部分文章正文为空，无法群发，请选择其他文章或编辑完整后再尝试";break;case"1530505":t="请勿添加其他公众号的主页链接";break;case"1530512":t="链接已失效，请在手机端重新复制链接";break;case"67019":t="推荐语不能有违反公众平台协议、相关法律法规和政策的内容，请重新编辑";break;case"13005":t="今日有待投放赞助广告，你当前群发的内容不符合条件，此时群发将会导致广告违约，请继续编辑。";break;case"153012":t="文章已声明原创，但未设置转载类型，请设置后再群发。";break;case"200043":t="图文中包含没有关联的小程序，请删除后再群发。";break;case"200047":t="标题中不能含有特殊字符";break;default:t=""}return t},payFreqOptions:[{label:"按天更新",value:1,options:[{label:"每天",value:11},{label:"每2天",value:12},{label:"每3天",value:13},{label:"每4天",value:14},{label:"每5天",value:15}]},{label:"按周更新",value:2,options:[{label:"每周",value:21},{label:"每2周",value:22},{label:"每3周",value:23}]},{label:"按月更新",value:3,options:[{label:"每月",value:31},{label:"每2月",value:32},{label:"每3月",value:33}]}],handleUpdateFreq:function(e){var t,i={};if("number"==typeof e)switch(e){case 11:case 12:case 13:case 14:case 15:i.day=e%10,i.week=0,i.month=0;break;case 21:case 22:case 23:i.day=0,i.week=e%10,i.month=0;break;case 31:case 32:case 33:i.day=0,i.week=0,i.month=e%10}if("object"===l(e)){for(var s in e)e[s]*=1;var a=e.day,n=e.week,o=e.month;0!==a?t=a+10:0!==n?t=n+20:0!==o&&(t=o+30)}return"object"===l(e)?t:JSON.stringify(r({},i))}}},"./src/pages/modules/media/audio/audio_chatmsg/audio_chatmsg.js":function(e,t,i){var Vue=i("./node_modules/vue/dist/vue.min.js"),s=(i("./src/pages/modules/media/common/media.less"),i("./src/pages/modules/media/audio/audio_chatmsg/audio_chatmsg.less"),i("./src/pages/modules/media/audio/audio_player.js"),i("./src/pages/modules/media/audio/audio_chatmsg/audio_chatmsg.tpl")),a=i("./src/pages/modules/utils/url.js"),i=i("./src/pages/modules/media/audio/audio_player.js");Vue.component("mp-audio-chatmsg",{template:s,components:{"mp-audio-player":i},props:{duration:{type:Number,default:0},msgid:{type:[Number,String],default:""},fileid:{type:[Number,String],default:""},source:{type:String,default:""},voiceEncodeFileid:{type:String,default:""},outdate:{type:Boolean,default:!1},theme:{type:String,default:"green"}},computed:{src:function(){return this.voiceEncodeFileid?a.fullUrl("https://res.wx.qq.com/voice/getvoice?mediaid=".concat(this.voiceEncodeFileid)):a.fullUrl("/cgi-bin/getvoicedata?msgid=".concat(this.msgid,"&fileid=").concat(this.fileid,"&source=").concat(this.source))},iconClass:function(){var e="weui-desktop-audio-player__switch ".concat(this.theme);return this.outdate&&(e+=" outdate"),e}},methods:{convertTimeString:function(e){var e=Math.floor(e||0),t=e%60,i=Math.floor(e/60)%60,e=Math.floor(e/3600),t=("0"+t).substr(-2),t=("0"+i).substr(-2)+":"+t;return t=e?e+":"+t:t}}})},"./src/pages/modules/media/audio/audio_chatmsg/audio_chatmsg.less":function(e,t,i){},"./src/pages/modules/media/audio/audio_chatmsg/audio_chatmsg.tpl":function(e,t){e.exports='\x3c!-- mp-audiomsg --\x3e\n<div :class="[\'weui-desktop-audio_chatmsg\', outdate ? \'outdate\' : \'\']">\n  <mp-audio-player :iconclass="iconClass" :disabled="outdate" :src="src" @play="$emit(\'play\')" @pause="$emit(\'pause\')"\n    extclass="weui-desktop-audio_chatmsg__player weui-desktop-vm weui-desktop-vm_default"></mp-audio-player>\n  <div v-if="!outdate" class="weui-desktop-audio_chatmsg__duration">{{convertTimeString(duration)}}</div>\n  <div v-else class="weui-desktop-audio_chatmsg__duration">音频消息已过期无法查看</div>\n</div>\n'},"./src/pages/modules/media/audio/audio_player.js":function(e,t,i){i("./src/pages/modules/media/audio/audio_player.less");var s=i("./src/pages/modules/media/audio/audio_player.tpl"),a=i("./src/pages/modules/utils/audio_center.js");e.exports={template:s,props:{extclass:{type:String,default:""},iconclass:{type:String,default:"weui-desktop-audio-player__switch"},src:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{status:"stopped"}},computed:{classList:function(){return["weui-desktop-audio_".concat(this.status)].concat(this.extclass.split(" "))}},mounted:function(){var t=this;this._audioItem=a.createAudioItem(),this._audioItem.bindStatusChange(function(e){"error"===e&&t.$tipsErr("音频播放失败，请检查网络状态，或尝试使用其他浏览器播放"),t.status=e}),this._audioItem.bindTimeUpdate(function(e){t.$emit("timeupdate",e)})},destroyed:function(){"playing"===this.status&&(this._audioItem.stop(),this.$emit("pause"))},methods:{click:function(){if(this.disabled)return!1;var e=this._audioItem;return"playing"===e.getStatus()?(e.stop(),this.$emit("pause")):(e.setSource(this.src),e.playWithLock(),this.$emit("play")),!1}}}},"./src/pages/modules/media/audio/audio_player.less":function(e,t,i){},"./src/pages/modules/media/audio/audio_player.tpl":function(e,t){e.exports='\x3c!-- mp-audio-player\n播放中：weui-desktop-audio_playing\n\n--\x3e\n<div class="weui-desktop-audio-player" :class="classList">\n  <em :class="iconclass" @click="click" title="点击播放"></em>\n</div>\n'},"./src/pages/modules/media/common/media.less":function(e,t,i){},"./src/pages/modules/media2/appmsg/appmsg_publish_card.js":function(s,a,e){function c(e,t){var i,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n=!0,o=!1;return{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){o=!0,a=e},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Vue=e("./node_modules/vue/dist/vue.min.js"),o=e("./src/mmbizweb-web2-common/modules/utils/cgi.js"),u=e("./src/pages/modules/utils/time.js"),d=e("./src/pages/modules/utils/object.js"),i=e("./src/pages/modules/utils/str_util.js"),m=e("./src/pages/modules/common/emoji/emoji.js"),t=e("./src/pages/modules/utils/parse.js"),n=e("./src/pages/modules/utils/report.js").idkey,l=e("./src/pages/modules/media2/appmsg/appmsg_publish_card.tpl"),_=(e("./src/pages/modules/media2/common/appmsg.less"),e("./src/pages/modules/media/common/media.less"),e("./src/pages/modules/media2/appmsg/appmsg_publish_card.less"),e("./src/pages/modules/utils/string.js")),h=/[\u2600-\u27BF]|[\u2B00-\u2BFF]|[\u3291-\u32B0]|[\uD83C\uD83D][\uDC00-\uDFFF]/;Vue.component("mp-appmsg2",{template:l,props:{type:{type:Number,default:10,validator:function(e){return 10===e||11===e||77===e||1===e}},extclass:{type:String,default:""},source:{type:Object,default:function(){return{}}},query:{type:String,default:""},highlight:{type:Boolean,default:!1},keyword:{type:String,default:""},showType:{type:Number,default:0},selected:{type:Boolean,default:!1},isfromselectmsg:{type:Boolean,default:!1},canselect:{type:Boolean,default:!1},canpreview:{type:Boolean,default:!1},canedit:{type:Boolean,default:!1},cantransfer:{type:Boolean,default:!1},replacescene:{type:Number,default:0},issupportsharesul:{type:Boolean,default:!1},useupdatetime:{type:Boolean,default:!0},usecreatetime:{type:Boolean,default:!0},usedelete:{type:Boolean,default:!0},showMoreAction:{type:Boolean,default:!0},voiceVerifyState:{type:Number,default:3}},data:function(){return{isDeleting:!1,operator:{show:!1},token:t.getQuery("token",location.href),lang:t.getQuery("lang",location.href),isMul:!1,list:[],completed:!0,notCompletedType:"",createTime:"",updateTime:"",isSupportShareMul:null,isTransfered:!1,popDeleteShow:!1,editWording:this.source.reply_type?"修改":"编辑",delPopShow:!1,transPopShow:!1,appid:"",isCopyRight:!0,isXinan:!0,isFromOldMsg:t.getQuery("isFromOldMsg",location.href),isFreePublishAppmsg:!0}},computed:{editUrl:function(){var e="";return e="/cgi-bin/appmsg?t=media/appmsg_edit&action=edit&type=".concat(this.type,"&appmsgid=").concat(this.source.app_id||this.source.id||this.source.msgid,"&isMul=1&replaceScene=").concat(this.replacescene),this.isFromOldMsg&&(e+="&isFromOldMsg=".concat(this.isFromOldMsg),localStorage.setItem("previousTitle",this.source.title)),this.source.reply_type&&localStorage.setItem("previousTitle",this.source.title),this.source.multi_item?localStorage.setItem("previousLength",this.source.multi_item.length):localStorage.setItem("previousLength",1),e},hasAlreadyTransfer:function(){return this.isTransfered||this.source.copied_appmsg_infos&&this.source.copied_appmsg_infos.length},pastTime:function(){return Math.floor((Math.floor((new Date).valueOf()/1e3)-this.source.publish_time)/60)}},watch:{source:function(){this.fixData()},keyword:function(){this.fixData()},highlight:function(){this.fixData()},useupdatetime:function(){this.fixData()}},mounted:function(){this.$listeners&&(this.$listeners.edit&&(this.operator.edit=!0,this.operator.show=!0),this.$listeners.delete&&(this.operator.delete=!0,this.operator.show=!0)),this.fixData()},methods:{formatMusicTime:function(e){var t;return e<60?"00:"+(e<10?"0":"")+e:((t=Math.floor(e/60))<10?"0":"")+t+":"+((e-=60*t)<10?"0":"")+e},preview:function(e,t,i){var s,a;this.canpreview&&(s=window.open(),a=this,e?s.location.href=e:(this.$emit("preview"),o.get({url:"/cgi-bin/appmsg?action=get_temp_url",data:{appmsgid:t,itemidx:i+1},success:function(e){e.base_resp&&0===e.base_resp.ret?s&&s.location&&(s.location.href=e.temp_url):(a.$tipsErr("生成临时链接失败，请重试"),s.close())},error:function(){a.$tipsErr("生成临时链接失败，请重试")}})))},mouseout:function(){this.delPopShow&&(this.delPopShow=!1)},sendMouseover:function(){this.delPopShow&&(this.delPopShow=!1)},del:function(){this.$emit("delete",this.appid)},xssFilter:function(e){var t;e.isXssEncoded||("string"==typeof(t=e.title)&&(""!==this.query?(10===e.share_page_type&&e.title,t=t.replace(/<em>/g,"{{{{{em}}}}}").replace(/<\/em>/g,"{{{{{/em}}}}}").replace(/<|>/gi,function(e){return{"<":"&#60;",">":"&#62;"}[e]}).replace(/\{\{\{\{\{em\}\}\}\}\}/g,"<em>").replace(/\{\{\{\{\{\/em\}\}\}\}\}/g,"</em>")):"boolean"!=typeof e.isXssEncoded&&(t=(t=i.html(t,!0)).replace(/<|>/gi,function(e){return{"<":"&#60;",">":"&#62;"}[e]}))),e.title=t,void 0!==e.digest&&(e.digest=i.html(e.digest,!1)),e.isXssEncoded=!0)},fixData:function(){for(var e=[],t=!1,i={},e=this.source.multi_item&&1===this.source.multi_item.length?[Object.assign({},this.source,this.source.multi_item[0])]:d.clone(this.source.multi_item||[this.source],!0),s=0;s<e.length;s++)this.xssFilter(e[s]);if(e){for(var a=0;a<e.length;a++)if("102"===e[a].free_publish_status&&(this.isCopyRight=!1),"104"===e[a].free_publish_status&&(this.isXinan=!1),e[a].publish_info&&"object"!==p(e[a].publish_info))try{101===JSON.parse(e[a].publish_info.replace(/&quot;/g,'"')).publish_type&&(this.isFreePublishAppmsg=!1)}catch(e){}for(var n=0;n<e.length;n++)5!==e[n].share_page_type&&7!==e[n].share_page_type&&8!==e[n].share_page_type||(t=!0),5===e[n].share_page_type&&(e[n].digest=e[n].digest&&_.htmlDecode(e[n].digest.replace(/<\/?a[^>]*?>/gi,""))),10===e[n].share_page_type&&(e[n].title=m(e[n].title).replace(/\n/g,"<br>"))}if(this.isShareMul=t,this.isSupportShareMul=this.issupportsharesul,this.isMul=1<e.length,this.createTime=this.source.create_time?u.timeFormat(this.source.create_time):"",this.updateTime=this.source.updateTimeStamp||this.source.update_time,this.updateTime=this.updateTime?u.timeFormat(this.updateTime):"",0<e.length){var o,r=c(e);try{for(r.s();!(o=r.n()).done;){var l=o.value;l.completed=!0,l.title&&l.cover||7===l.share_page_type||(this.completed=!1,l.completed=!1),h.test(l.title)&&(this.notCompletedType="title-emoji",this.completed=!1,e[0].completed=!1),l.cover&&(l.cover=_.nogif(l.cover)),l.share_voiceinfo&&l.share_voiceinfo[0]&&(i=l.share_voiceinfo[0]),7!==l.share_page_type||l.play_length||(void 0===i.play_length?l.play_length="未知时长":l.play_length=this.formatMusicTime(i.play_length)),5!==l.share_page_type||l.play_length||!l.share_videoinfo[0]||l.share_videoinfo[0].is_finder_video||(void 0===l.share_videoinfo[0].play_length?l.play_length="未知时长":l.play_length=u.formatMediaTime(l.share_videoinfo[0].play_length)),8===l.share_page_type&&(l.share_imageinfo?l.num=l.share_imageinfo.length:l.num=0),10===l.share_page_type&&(this.completed=!0,l.completed=!0),l.title=l.title||"未命名图文",l.tpl="t3"}}catch(e){r.e(e)}finally{r.f()}this.isMul?e[0].tpl="t2":e[0].tpl="t1",this.list=e}this.appid=this.source.app_id||this.source.id||this.source.msgid,this.delPopShow=!1},getTempUrl:function(e,t,i,s){var a,n;e||(s.preventDefault(),a=window.open(),n=this,o.get({url:"/cgi-bin/appmsg?action=get_temp_url",data:{appmsgid:t,itemidx:i+1},success:function(e){e.base_resp&&0===e.base_resp.ret?a&&a.location&&(a.location.href=e.temp_url):(n.$tipsErr("生成临时链接失败，请重试"),a.close())},error:function(){n.$tipsErr("生成临时链接失败，请重试")},complete:function(){}}))},editAppmsg:function(e,t){window.wx.commonData.acl&&window.wx.commonData.acl.material_acl&&!!window.wx.commonData.acl.material_acl.can_app_msg?window.openUrl(this.editUrl,{isSend:!0===e?1:0,isFreePublish:!0===t?1:0},!0):this.$tipsErr("帐号新建/编辑素材能力已被封禁，暂不可使用。"),this.$emit("edit",e)},transferToDraft:function(){var t=this;localStorage.setItem("previousTitle",t.source.title),localStorage.setItem("previousLength",t.source.multi_item.length),n(129180,49,1),this.hasAlreadyTransfer||o.post({url:"/cgi-bin/operate_appmsg?sub=copy&t=ajax-response",data:{AppMsgId:t.source.app_id},success:function(e){0==+e.base_resp.ret?(t.$tipsSuc("已转存为草稿，请前往草稿箱编辑和发表"),t.isTransfered=!0,t.$emit("deleted",t.source,e),window.location.href="/cgi-bin/appmsg?t=media/appmsg_edit&action=edit&type=77&appmsgid=".concat(e.appMsgId,"&replaceScene=1&token=").concat(t.token,"&lang=").concat(t.lang)):"200002"===e.ret?t.$tipsErr("已转存为草稿，请前往草稿箱编辑和发表"):t.$tipsErr("转存草稿失败")},error:function(){t.$tipsErr("转存草稿失败")}})},onDelete:function(){var t=this;t.isDeleting=!0,o.post({url:"/cgi-bin/operate_appmsg?sub=del&t=ajax-response",data:{AppMsgId:t.source.app_id},success:function(e){0==+e.base_resp.ret?(t.$tipsSuc("删除成功"),t.popDeleteShow=!1,t.$emit("deleted",t.source,e)):t.$tipsErr("删除失败")},error:function(){t.$tipsErr("删除失败")},complete:function(){t.isDeleting=!1}})},onClick:function(){this.$emit("click",this.source)},onOperate:function(e){this.$emit(e,this.source)}}})},"./src/pages/modules/media2/appmsg/appmsg_publish_card.less":function(e,t,i){},"./src/pages/modules/media2/appmsg/appmsg_publish_card.tpl":function(e,t){e.exports='\n\n<div class="publish_card_container">\n  <div  v-if="!canselect && isfromselectmsg && showType !== 10" class="can-not-selected-bar">最多只能插入8篇内容</div>\n  <div  v-if="isfromselectmsg && showType === 10" class="can-not-selected-bar">文字消息暂不支持选择</div>\n  <div :class="[\'weui-desktop-card\', \'weui-desktop-publish\',\n  extclass, selected ? \'selected\' : \'\',\n  canselect ? \'canselected\' : \'can_not_selected\']"\n    :data-appid="source.app_id" @mouseleave="mouseout">\n    <div :class="[\'weui-desktop-card_fakeinner\', { \'can-not-selected-border\': !canselect && isfromselectmsg}]">\n      <div class="weui-desktop-card__mask"></div>\n      <div @onmouseout="οnmοuseοut" class="weui-desktop-card__inner" id="appmsg_publish_record" href="javascript:void(0);">\n        <div v-if="(!isCopyRight || !isXinan) && type === 77" class="publish_failed">\n          <div v-if="isFreePublishAppmsg" class="publish_failed">\n            <i class="icon-svg-helper-tips_warn"></i>\n            <span class="failed_content"> 发布失败备份 </span>\n              <div class="publish_time">\n                  本草稿于 {{updateTime}} 发布失败\n                <mp-tooltip trigger="hover">\n                  <a href="javascript:;" slot="target">查看详情</a>\n                  <template slot="content">\n                    <template v-if="!this.isCopyRight">原创校验不通过，请修改后重试</template>\n                    <template v-else-if="!isXinan">内容因违规发送失败，请修改后重试</template>\n                  </template>\n                </mp-tooltip>\n              </div>\n          </div>\n          <div v-else class="publish_failed">\n            <i class="icon-svg-helper-tips_warn"></i>\n            <span class="failed_content"> 群发失败备份 </span>\n              <div class="publish_time">\n                  本草稿于 {{updateTime}} 群发失败\n                <mp-tooltip trigger="hover">\n                  <a href="javascript:;" slot="target">查看详情</a>\n                  <template slot="content">\n                    <template v-if="!this.isCopyRight">原创校验不通过，请修改后重试</template>\n                    <template v-else-if="!isXinan">内容因违规发送失败，请修改后重试</template>\n                  </template>\n                </mp-tooltip>\n              </div>\n          </div>\n        </div>\n\n\n        <div class="weui-desktop-card__bd">\n          <template v-for="(item, index) in list">\n            \n            <template v-if="item.tpl == \'t1\'">\n              \n              \n              <div :class="{\n                \'weui-desktop-publish__cover-item\':true,\n                \'weui-desktop-publish__cover-item_appsmg\':item.share_page_type == 0,\n                \'weui-desktop-publish__cover-item_video\':item.share_page_type == 5,\n                \'weui-desktop-publish__cover-item_pic\':item.share_page_type == 8,\n                \'appmsg_card_publish_failed\': (!isCopyRight || !isXinan),\n                \'appmsg_publish_signal\': true\n              }">\n                \n                <template v-if="item.share_page_type == 10">\n                  <span class="weui-desktop-publish__cover__title_text">\n                    <template v-if="type !== 1">\n                      <a class="weui-desktop-publish__cover__title" href="javascript:void(0);" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)" >\n                        <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">付费</b>\n                        <span v-html="item.title"></span>\n                      </a>\n                    </template>\n                    <template v-else>\n                      <div class="weui-desktop-publish__cover__title" href="javascript:void(0);" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)" >\n                        <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">付费</b>\n                        <span v-html="item.title"></span>\n                      </div>\n                    </template>\n                  </span>\n                </template>\n\n                \n                <template v-else-if="item.share_page_type !== 7">\n                  <div class="weui-desktop-publish__cover__thumb-wrp">\n                    <i class="weui-desktop-publish__cover__thumb"\n                      :style="\'background-image:url(\\\'\' + item.cover + \'\\\');\'"></i>\n                    \n                    \n                    <div class="weui-desktop-publish__video-notice" v-show="item.share_page_type === 5">{{item.play_length}}\n                    </div>\n                    <template v-if="item.share_page_type === 8">\n                      <div class="weui-desktop-publish__img-notice">\n                        <div v-if="canpreview" class="weui-desktop-publish__img-preview" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">预览</div>\n                        <div class="weui-desktop-publish__img-notice-content">\n                          <i class="weui-desktop-publish__icon-pic"></i>\n                          <span class="weui-desktop-publish__pic-num" v-show="item.num>1">{{item.num}}</span>\n                        </div>\n                      </div>\n                    </template>\n                  </div>\n\n                  \n                  <span v-if="item.title&&item.share_page_type !== 8" class="weui-desktop-publish__cover__title__wrp">\n                    <template v-if="type !== 1">\n                      <a class="weui-desktop-publish__cover__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)" >\n                        <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">付费</b>\n                        <span v-html="item.title"></span>\n                      </a>\n                    </template>\n                    <template v-else>\n                      <div class="weui-desktop-publish__cover__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)" >\n                        <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">付费</b>\n                        <span v-html="item.title"></span>\n                      </div>\n                    </template>\n                  </span>\n                  <p v-if="item.digest" class="weui-desktop-publish__cover__desc" :title="item.digest">{{item.digest}}</p>\n                </template>\n\n                \n                <template v-else>\n                  <div class="card_audio">\n                    <mp-msg v-if="voiceVerifyState === 4" icon="info" title="音频因违规已下架" size="mini" mode="gray" style="margin: 8px 8px 0;"></mp-msg>\n                    <div class="card_audio_inner">\n                      <div class="weui-desktop-vm_primary card_audio_hd">\n                        <div class="card_audio_title" title="item.title" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">{{item.title}}</div>\n                        <p class="card_audio_length">{{item.play_length}}</p>\n                      </div>\n                      <div class="weui-desktop-vm_default card_audio_bd">\n                        <i class="card_audio_player"></i>\n                      </div>\n                    </div>\n                    \n                    <div class="weui-desktop-publish__cover__desc">{{item.digest}}</div>\n                  </div>\n                </template>\n\n                \n              </div>\n            </template>\n\n            \n            <template v-if="item.tpl == \'t2\'">\n              <div :class="{\n                \'weui-desktop-publish__cover-item\':true,\n                \'weui-desktop-publish__cover_thumb\': item.cover,\n                \'weui-desktop-publish__cover-item_appsmg\':item.share_page_type == 0,\n                \'weui-desktop-publish__cover-item_video\':item.share_page_type == 5,\n                \'weui-desktop-publish__cover-item_pic\':item.share_page_type == 8,\n                \'appmsg_card_publish_failed\': (!isCopyRight || !isXinan),\n                \'appmsg_publish_mulitem\': true\n              }">\n                \n                <template v-if="item.share_page_type == 7">\n                  <mp-msg v-if="voiceVerifyState === 4" icon="info" title="音频因违规已下架" size="mini" mode="gray" style="margin: 8px 8px 0;"></mp-msg>\n                  <div class="card_audio_inner">\n                    <div class="weui-desktop-vm_primary card_audio_hd">\n                      <div class="card_audio_title" title="item.title" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">{{item.title}}</div>\n                      <p class="card_audio_length">{{item.play_length}}</p>\n                    </div>\n                    <div class="weui-desktop-vm_default card_audio_bd">\n                      <i class="card_audio_player"></i>\n                    </div>\n                  </div>\n                </template>\n\n                <template v-else-if="item.share_page_type == 5">\n\n                  <div class="weui-desktop-publish__cover__thumb-wrp">\n                    <i class="weui-desktop-publish__cover__thumb"\n                      :style="\'background-image:url(\\\'\' + item.cover + \'\\\');\'"></i>\n                    \n                    \n                    <div class="weui-desktop-publish__video-notice" v-show="item.share_page_type === 5">{{item.play_length}}\n                    </div>\n                    \n                    <div class="weui-desktop-publish__img-notice">\n                      <span class="weui-desktop-publish__cover__title__wrp">\n                        <span class="weui-desktop-publish__cover__title" v-html="item.title" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)"></span>\n                      </span>\n                    </div>\n                  </div>\n                </template>\n\n                \n                <template v-else-if="item.share_page_type == 8">\n                  <div class="weui-desktop-publish__cover__thumb-wrp">\n                    <i class="weui-desktop-publish__cover__thumb"\n                      :style="\'background-image:url(\\\'\' + item.cover + \'\\\');\'"></i>\n                    \n                    <template v-show="item.share_page_type === 8">\n                      <div class="weui-desktop-publish__img-notice">\n                        <div  v-if="canpreview"  class="weui-desktop-publish__img-preview" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">预览</div>\n                        <div class="weui-desktop-publish__img-notice-content">\n                          <i class="weui-desktop-publish__icon-pic"></i>\n                          <span class="weui-desktop-publish__pic-num" v-show="item.num>1">{{item.num}}</span>\n                        </div>\n                      </div>\n                    </template>\n                  </div>\n                </template>\n\n                <template v-else>\n                  <div class="weui-desktop-publish__img-notice">\n                    <span  class="weui-desktop-publish__cover__title__wrp">\n                      <template v-if="type !== 1">\n                        <a class="weui-desktop-publish__cover__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">\n                          <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">付费</b>\n                          <span v-html="item.title"></span>\n                        </a>\n\n                      </template>\n                      <template v-else>\n                        <div class="weui-desktop-publish__cover__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">\n                          <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">付费</b>\n                          <span v-html="item.title"></span>\n                        </div>\n                      </template>\n                    </span>\n                  </div>\n                  <i class="weui-desktop-publish__cover__thumb" :style="\'background-image:url(\\\'\' + item.cover + \'\\\');\'"></i>\n                </template>\n\n                \n                <a class="weui-desktop-card__preview" style="display: none;" v-if="canpreview"\n                  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">预览</a>\n              </div>\n            </template>\n\n            \n            <template v-if="item.tpl == \'t3\'">\n              <div class="weui-desktop-publish__item sub_card_media" :class="{\'appmsg_card_publish_failed\': (!isCopyRight || !isXinan), \'audio_container\' : item.share_page_type === 7}">\n                <template v-if="item.share_page_type !== 7">\n                  <div class="weui-desktop-publish__thumb-wrp">\n                    <i class="weui-desktop-publish__thumb" :style="\'background-image:url(\\\'\' + item.cover + \'\\\');\'"></i>\n                    \n                    <div class="weui-desktop-publish__img-notice" v-if="item.share_page_type == 8">\n                      <div class="weui-desktop-publish__img-notice-content">\n                        <i class="weui-desktop-publish__icon-pic"></i>\n                        <span class="weui-desktop-publish__pic-num" v-show="item.num>1">{{item.num}}</span>\n                      </div>\n                    </div>\n                    \n                    \n                    <div class="weui-desktop-publish__video-notice" v-show="item.share_page_type === 5">{{item.play_length}}\n                    </div>\n                  </div>\n                  <template v-if="type !== 1 || item.item_show_type == 0">\n                    <div class="weui-desktop-publish__title__container">\n                    <a  class="weui-desktop-publish__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">\n                      <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1" >付费</b>\n                      <span v-html="item.title"></span>\n                    </a>\n                    </div>\n                  </template>\n                  <template v-else>\n                    <div class="weui-desktop-publish__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">\n                      <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1" >付费</b>\n                      <span v-html="item.title"></span>\n                    </div>\n                  </template>\n                </template>\n                <template v-else>\n                  <div class="card_audio">\n                    <mp-msg v-if="voiceVerifyState === 4" icon="info" title="音频因违规已下架" size="mini" mode="gray" style="margin: 8px 8px 0;"></mp-msg>\n                    <div class="card_audio_inner">\n                      <div class="weui-desktop-vm_primary card_audio_hd">\n                        <div class="card_audio_title" title="item.title" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)" v-html="item.title"></div>\n                        <p class="card_audio_length">{{item.play_length}}</p>\n                      </div>\n                      <div class="weui-desktop-vm_default card_audio_bd">\n                        <i class="card_audio_player"></i>\n                      </div>\n                    </div>\n                  </div>\n                </template>\n                \n                <a class="weui-desktop-card__preview"  v-if="canpreview"\n                  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)"\n                  style="display: none;">预览</a>\n              </div>\n            </template>\n\n          </template>\n\n          \n          <div class="weui-desktop-card__action" :style="{\'top\':(!isCopyRight || !isXinan) && type === 77 ? \'100px\' : \'15px\'}" v-if="type !== 1 && usedelete">\n            <div class="weui-desktop-publish__opr weui-desktop-link-group">\n              <div v-if="cantransfer && isFromOldMsg">\n                <div v-if="!source.reply_type">\n                  <mp-popover v-model="transPopShow" class="weui-desktop-link" position="up-right"  trigger="click" v-if="!hasAlreadyTransfer">\n                    <mp-tooltip slot="target" content="转存为草稿" :delay="300">\n                      <a slot="target" :class="[\'weui-desktop-icon20\', \'weui-desktop-icon-btn\', hasAlreadyTransfer ? \'disabled\' : \'\']" class="weui-desktop-icon20 weui-desktop-icon-btn" href="javascript:;">\n                      <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M16.5 2.5A1.5 1.5 0 0118 4v6.629h-1.5V4h-11v16h5.877v1.5H5.5A1.5 1.5 0 014 20V4a1.5 1.5 0 011.5-1.5h11zm1.914 9.757l3.536 3.536a1 1 0 010 1.414l-3.536 3.536-1.06-1.062 2.425-2.425-6.579.001v-1.5h6.593l-2.44-2.44 1.061-1.06zM11.377 11v1.5H8V11h3.377zM14 7v1.5H8V7h6z" fill="#4C4D4E"/></g></svg>\n                      </a>\n                    </mp-tooltip>\n                    <p slot="content" class="comfirm_delete_wording">\n                      转存为草稿后，将进入编辑器编辑修改，历史素材只能转存一次。如需再次使用此素材，请前往首页“选择已有内容”-“历史图文素材”。\n                    </p>\n                    <template slot="bar">\n                      <mp-button type="primary" @click.stop="transferToDraft">确定\n                      </mp-button>\n                      <mp-button type="default" @click.stop="transPopShow=false">取消\n                      </mp-button>\n                    </template>\n                  </mp-popover>\n                  <mp-tooltip v-else slot="target" class="weui-desktop-link" content="已转存为草稿" :delay="300">\n                    <a slot="target" :class="[\'weui-desktop-icon20\', \'weui-desktop-icon-btn\', hasAlreadyTransfer ? \'disabled\' : \'\']" href="javascript:;">\n                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M16.5 2.5A1.5 1.5 0 0118 4v6.629h-1.5V4h-11v16h5.877v1.5H5.5A1.5 1.5 0 014 20V4a1.5 1.5 0 011.5-1.5h11zm1.914 9.757l3.536 3.536a1 1 0 010 1.414l-3.536 3.536-1.06-1.062 2.425-2.425-6.579.001v-1.5h6.593l-2.44-2.44 1.061-1.06zM11.377 11v1.5H8V11h3.377zM14 7v1.5H8V7h6z" fill="#4C4D4E"/></g></svg>\n                      \n                      \n                    </a>\n                  </mp-tooltip>\n                </div>\n                <mp-tooltip v-else class="weui-desktop-link" content="修改" position="down-center" :delay="300">\n                  <a slot="target" class="weui-desktop-icon20 weui-desktop-icon-btn" @click="editAppmsg" href="javascript:;">\n                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M16.5 2.5A1.5 1.5 0 0118 4v6.629h-1.5V4h-11v16h5.877v1.5H5.5A1.5 1.5 0 014 20V4a1.5 1.5 0 011.5-1.5h11zm1.914 9.757l3.536 3.536a1 1 0 010 1.414l-3.536 3.536-1.06-1.062 2.425-2.425-6.579.001v-1.5h6.593l-2.44-2.44 1.061-1.06zM11.377 11v1.5H8V11h3.377zM14 7v1.5H8V7h6z" fill="#4C4D4E"/></g></svg>\n                  </a>\n                </mp-tooltip>\n              </div>\n\n              <mp-popover v-model="delPopShow" class="weui-desktop-link" trigger="click">\n                <mp-tooltip slot="target" content="删除" position="down-center" :delay="300">\n                  <a slot="target" class="weui-desktop-icon20 weui-desktop-icon-btn" href="javascript:;">\n                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M20.5 4.5a1.5 1.5 0 011.493 1.356L22 6h-3.095L18 20.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 20.5L5.093 6H2a1.5 1.5 0 011.5-1.5h17zm-3 1.5h-11l1 14.5h9l1-14.5zm-7 2l.5 10H9.5L9 8h1.5zM15 8l-.5 10H13l.5-10H15zm-1.5-6a1.5 1.5 0 011.493 1.356L15 3.5H9A1.5 1.5 0 0110.5 2h3z" fill="#4C4D4E"/></g></svg>\n                    \n                  </a>\n                </mp-tooltip>\n                <p slot="content" class="comfirm_delete_wording">\n                  确定删除？删除该内容不会删除已发表的内容\n                </p>\n                <template slot="bar">\n                  <mp-button type="primary" @click.stop="del">删除\n                  </mp-button>\n                  <mp-button type="default" @click.stop="delPopShow=false">取消\n                  </mp-button>\n                </template>\n              </mp-popover>\n\n              <mp-tooltip  v-if="canedit && appid" class="weui-desktop-link" :content="editWording" position="down-center" :delay="300">\n                <a slot="target" class="weui-desktop-icon20 weui-desktop-icon-btn" @click="editAppmsg" href="javascript:;">\n                  <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M13 4v1.5H4.5v14h14V11H20v8.5a1.5 1.5 0 01-1.5 1.5h-14A1.5 1.5 0 013 19.5v-14A1.5 1.5 0 014.5 4H13zm5.034.875l1.414 1.414-8.327 8.327-2.16 1.156c-.453.242-.645.098-.453-.322l.043-.087 1.156-2.16 8.327-8.328zm2.436-1.319l.297.297c.309.308.22.898-.175 1.292l-.587.587-1.414-1.414.587-.587c.405-.405.98-.487 1.292-.175z" fill="#4C4D4E"/></g></svg>\n                  \n                </a>\n              </mp-tooltip>\n\n              <template v-if="!completed">\n                <template v-if="type !== 10">\n                  <mp-tooltip trigger="hover" class="appmsg_publish_disable">\n                    <span class="publish_disable_button" slot="target">\n                      <a\n                        class="weui-desktop-icon20 weui-desktop-link weui-desktop-link_disable weui-desktop-link_send-multi weui-desktop-icon-btn" href="javascript:;">\n                        <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M16.95 10.293l3.535 3.535-1.061 1.061-2.425-2.425L17 22h-1.5l-.001-9.55-2.439 2.439-1.06-1.06 3.536-3.536a1 1 0 011.414 0zM16.5 2A1.5 1.5 0 0118 3.5v4.414h-1.5V3.5h-11v16h5.877V21H5.5A1.5 1.5 0 014 19.5v-16A1.5 1.5 0 015.5 2h11zm-5.123 8.5V12H8v-1.5h3.377zM14 6.5V8H8V6.5h6z" fill="#4C4D4E"/></g></svg>\n                        \n                        <span class="space-left">发表</span>\n                      </a>\n                    </span>\n                    <div slot="content">内容不完整，无法发表</div>\n                  </mp-tooltip>\n                </template>\n                \n              </template>\n\n              <template v-else>\n                <template v-if="type !== 10">\n                  <span class="publish_enable_button">\n                    <a class="weui-desktop-icon20 weui-desktop-link weui-desktop-link_send-multi weui-desktop-icon-btn"\n                      href="javascript:;">\n                      <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M16.95 10.293l3.535 3.535-1.061 1.061-2.425-2.425L17 22h-1.5l-.001-9.55-2.439 2.439-1.06-1.06 3.536-3.536a1 1 0 011.414 0zM16.5 2A1.5 1.5 0 0118 3.5v4.414h-1.5V3.5h-11v16h5.877V21H5.5A1.5 1.5 0 014 19.5v-16A1.5 1.5 0 015.5 2h11zm-5.123 8.5V12H8v-1.5h3.377zM14 6.5V8H8V6.5h6z" fill="#4C4D4E"/></g></svg>\n                      \n                      <span class="space-left">\n                        发表\n                      </span>\n                    </a>\n                    <div class="preview_publish_panel">\n                      <a @click="editAppmsg(true)" href="javascript:;" class="group_sending">\n                        群发\n                      </a>\n\n\n                      <a @click="editAppmsg(false, true)"href="javascript:;" class="free_post">\n                        发布\n                      </a>\n                  </div>\n                  </span>\n                  \n                </template>\n              </template>\n\n            </div>\n          </div>\n        </div>\n\n        \n        <div class="weui-desktop-card__ft">\n          <div class="weui-desktop-publish__opr weui-desktop-link-group" style="display: none;" v-if="canedit">\n            <mp-tooltip class="weui-desktop-link" content="编辑" position="down-center" :delay="300">\n              <a slot="target" class="weui-desktop-icon-btn" @click="editAppmsg" href="javascript:;">\n                <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M13 4v1.5H4.5v14h14V11H20v8.5a1.5 1.5 0 01-1.5 1.5h-14A1.5 1.5 0 013 19.5v-14A1.5 1.5 0 014.5 4H13zm5.034.875l1.414 1.414-8.327 8.327-2.16 1.156c-.453.242-.645.098-.453-.322l.043-.087 1.156-2.16 8.327-8.328zm2.436-1.319l.297.297c.309.308.22.898-.175 1.292l-.587.587-1.414-1.414.587-.587c.405-.405.98-.487 1.292-.175z" fill="#4C4D4E"/></g></svg>\n              </a>\n            </mp-tooltip>\n            <mp-popover v-model="delPopShow" class="weui-desktop-link" trigger="click">\n              <mp-tooltip slot="target" content="删除" position="down-center" :delay="300">\n                <a slot="target" class="weui-desktop-icon-btn" href="javascript:;">\n                  <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M20.5 4.5a1.5 1.5 0 011.493 1.356L22 6h-3.095L18 20.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 20.5L5.093 6H2a1.5 1.5 0 011.5-1.5h17zm-3 1.5h-11l1 14.5h9l1-14.5zm-7 2l.5 10H9.5L9 8h1.5zM15 8l-.5 10H13l.5-10H15zm-1.5-6a1.5 1.5 0 011.493 1.356L15 3.5H9A1.5 1.5 0 0110.5 2h3z" fill="#4C4D4E"/></g></svg>\n                </a>\n              </mp-tooltip>\n              <p slot="content">\n                删除后不会影响已群发的图文消息，确定删除该素材？\n              </p>\n              <template slot="bar">\n                <mp-button type="primary" @click.stop="del">删除\n                </mp-button>\n                <mp-button type="default" @click.stop="delPopShow=false">取消\n                </mp-button>\n              </template>\n            </mp-popover>\n          </div>\n          <div class="weui-desktop-publish__tips weui-desktop-tips weui-desktop-tips_icon-after">\n            <template v-if="useupdatetime && updateTime">更新于 {{updateTime}} </template>\n            <template v-else>{{createTime}}</template>\n            <mp-popover v-if="!completed" trigger="hover" style="display: none;">\n              <i slot="target" class="icon-svg-helper-tips_warn"></i>\n              <div slot="content">\n                图文内容不完整<br />\n                <template v-if="notCompletedType == \'title-emoji\'">标题中含有特殊字符，请重新编辑</template>\n                <template v-else>请补充封面图、标题或者正文</template>\n              </div>\n            </mp-popover>\n            \n          </div>\n        </div>\n\n\n        \n\n      </div>\n    </div>\n  </div>\n</div>\n\n'},"./src/pages/modules/media2/common/appmsg.less":function(e,t,i){},"./src/pages/modules/utils/audio_center.js":function(e,t){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var n=function(){"use strict";function e(){i(this,e),this.onstatuschange=null}return a(e,[{key:"setSource",value:function(e){this._audio=null,this._status="stopped",this._src=e}},{key:"playWithLock",value:function(){o.fetchLock(this),this._play()}},{key:"playWithoutLock",value:function(){this._play()}},{key:"stop",value:function(){o.releaseLock(this),this._stop()}},{key:"getStatus",value:function(){return this._status}},{key:"releaseLock",value:function(){this._stop()}},{key:"bindStatusChange",value:function(e){this.onstatuschange=e}},{key:"_triggerStatusChange",value:function(){this.onstatuschange&&this.onstatuschange(this._status)}},{key:"bindTimeUpdate",value:function(e){this.ontimeupdate=e}},{key:"_triggerTimeUpdate",value:function(){this.ontimeupdate&&this.ontimeupdate(1e3*this._audio.currentTime,1e3*this._audio.duration)}},{key:"_play",value:function(){var e,t=this;this._audio||((e=document.createElement("audio")).addEventListener("error",function(){t._audio=null,t._status="error",t._triggerStatusChange()},!1),e.addEventListener("ended",function(){t._status="stopped",t._triggerStatusChange()},!1),e.addEventListener("timeupdate",function(){t._triggerTimeUpdate()},!1),e.addEventListener("playing",function(){"loading"===t._status&&(t._status="playing",t._triggerStatusChange())},!1),e.addEventListener("waiting",function(){"playing"===t._status&&(t._status="loading",t._triggerStatusChange())},!1),e.src=this._src,this._audio=e),this._status="loading",this._triggerStatusChange(),this._audio.play()}},{key:"_stop",value:function(){this._audio&&(this._status="stopped",this._triggerStatusChange(),this._audio.pause(),this._audio.currentTime=0)}}]),e}(),o=function(){"use strict";function e(){i(this,e)}return a(e,null,[{key:"createAudioItem",value:function(){return new n}},{key:"fetchLock",value:function(e){this._lock&&this.releaseLock(this._lock),this._lock=e}},{key:"releaseLock",value:function(e){this._lock===e&&(this._lock.releaseLock(),this._lock=null)}},{key:"stop",value:function(){this._lock&&(this._lock.releaseLock(),this._lock=null)}}]),e}();e.exports=o},"./src/pages/modules/utils/parse.js":function(e,t){function o(e){var t=e.length,i=e.indexOf("?"),s=-1===(s=e.indexOf("#"))?t:s,i=-1===i?s:i;return{host:e.substr(0,i),queryStr:e.substr(i+1,s-i-1),hash:e.substr(s+1)}}e.exports={parseUrl:o,join:function(e,t,i){var s,a=(e=o(e)).queryStr,n=[];for(s in t)t[s]&&n.push(s+"="+(i?t[s]:encodeURIComponent(t[s])));return 0<n.length&&(a+=(""!==a?"&":"")+n.join("&")),e.host+(""!==a?"?"+a:"")+(""!==e.hash?"#"+e.hash:"")},addParam:function(e,t,i,s){var a=(e=e||location.href).indexOf("&"),n=e.length-1-e.replace(/^[\w\d]+:[\/\\]+/g,"").split("").reverse().indexOf("/"),n=(-1!==a&&-1===e.indexOf("?")&&n<a&&(e=e.replace("&","?")),new RegExp("([\\?&]"+t+"=)[^&#]*"));return e.match(n)?!0===s?e.replace(n,"$1"+i):e:-1===(a=e.indexOf("?"))?e+"?"+t+"="+i:a===e.length-1?e+t+"="+i:e+"&"+t+"="+i},getQuery:function(e,t){return t=t||window.location.search,e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),null!=(t=t.substr(t.indexOf("?")+1).match(e))?t[2]:""}}},"./src/pages/modules/utils/report.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.idkey=t.badjs=void 0;t.idkey=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;e&&null!=t&&(e="/mp/jsmonitor?idkey=".concat(e,"_").concat(t,"_").concat(i,"&_ts=").concat(Date.now()),navigator.sendBeacon?(t=e,navigator.sendBeacon(t)):(i=e,(new Image).src=i))};t.badjs=function(){}},"./src/pages/modules/utils/string.js":function(e,t){function i(e,t){for(var i=!1===t?["&#39;","'","&quot;",'"',"&nbsp;"," ","&gt;",">","&lt;","<","&amp;","&","&#60;","<","&#62;",">"]:["&","&amp;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#39;"],s=e,a=0;a<i.length;a+=2)s=s.replace(new RegExp(i[a],"g"),i[1+a]);return s}e.exports={https2http:function(e){return e.replace(/https:\/\/mmbiz\.qlogo\.cn\//g,"http://mmbiz.qpic.cn/")},http2https:function(e){return e.replace(/http:\/\/mmbiz\.qpic\.cn\//g,"https://mmbiz.qlogo.cn/")},nogif:function(e){return-1<e.indexOf("wx_fmt=gif")||-1<e.indexOf("/mmbiz_gif/")?e.replace("/0?","/s640?").replace("wx_fmt=gif",""):e.toString()},htmlEncode:function(e){return i(e,!0)},htmlDecode:function(e){return i(e,!1)},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}},"./src/pages/modules/utils/time.js":function(e,s,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){return 2<=(e+="").length?e:"0"+e}function l(e,t){for(var i=0,s=t-(e+"").length;i<s;i++)e="0"+e;return e+""}function c(e){var t=new Date;return!(!(e=u(e))||""===e)&&(t.getFullYear()===e.getFullYear()&&t.getMonth()+1===e.getMonth()+1&&t.getDate()===e.getDate())}function p(e){var t=new Date;return!(!(e=u(e))||""===e)&&(t.getFullYear()===e.getFullYear()&&t.getMonth()+1===e.getMonth()+1&&t.getDate()===e.getDate()+1)}var o=t("./src/pages/modules/utils/str_util.js"),u=function(e){if(!e)return"";e="object"===i(e)&&e instanceof Date?new Date(+e):new Date(10===e.toString().length?1e3*e:+e);return e};e.exports={timeFormat:function(e){var e=new Date(1e3*e),t=new Date,i=e.getTime(),s=t.getTime(),a=864e5;return s-i<a&&t.getDate()===e.getDate()?o.sprintf("%s:%s",n(e.getHours()),n(e.getMinutes())):s-i<2*a&&new Date(+e+a).getDate()===t.getDate()?o.sprintf("昨天 %s:%s",n(e.getHours()),n(e.getMinutes())):s-i<=6*a?o.sprintf("%s %s:%s",["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][e.getDay()],n(e.getHours()),n(e.getMinutes())):e.getFullYear()===t.getFullYear()?o.sprintf("%s月%s日",n(e.getMonth()+1),n(e.getDate())):o.sprintf("%s年%s月%s日",e.getFullYear(),n(e.getMonth()+1),n(e.getDate()))},getFullTime:function(e){e=new Date(1e3*e);return o.sprintf("%s-%s-%s %s:%s:%s",e.getFullYear(),n(e.getMonth()+1),n(e.getDate()),n(e.getHours()),n(e.getMinutes()),n(e.getSeconds()))},formatDate:function(e,t){if(!e)return"";e="object"===i(e)&&e instanceof Date?new Date(+e):new Date(10===e.toString().length?1e3*e:+e);return t.replace(/YYYY/,e.getFullYear()).replace(/YY/,l(e.getFullYear()%100,2)).replace(/MM/,l(e.getMonth()+1,2)).replace(/M/g,e.getMonth()+1).replace(/DD/,l(e.getDate(),2)).replace(/D/g,e.getDate()).replace(/HH/,l(e.getHours(),2)).replace(/H/g,e.getHours()).replace(/hh/,l(e.getHours()%12,2)).replace(/h/g,e.getHours()%12).replace(/mm/,l(e.getMinutes(),2)).replace(/m/g,e.getMinutes()).replace(/ss/,l(e.getSeconds(),2)).replace(/s/g,e.getSeconds()).replace(/w/g,e.getDay()).replace(/W/g,["日","一","二","三","四","五","六"][e.getDay()])},getSimTime:function(e){e=new Date(e);return o.sprintf("%s%s%s",e.getFullYear(),n(e.getMonth()+1),n(e.getDate()))},getFullDate:function(e){e=new Date(1e3*e);return o.sprintf("%s-%s-%s",e.getFullYear(),n(e.getMonth()+1),n(e.getDate()))},formatDateNew:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"minute";if(!e||""===e)return"";["minute","second"].indexOf(t)<-1&&(t="minute");var i=(e=u(e)).getFullYear(),s=l(e.getMonth()+1,2),a=l(e.getDate(),2),n=l(e.getHours(),2),o=l(e.getMinutes(),2),r=l(e.getSeconds(),2);return c(e)?"minute"===t?"".concat(n,":").concat(o):"".concat(n,":").concat(o,":").concat(r):p(e)?"minute"===t?"昨天 ".concat(n,":").concat(o):"昨天 ".concat(n,":").concat(o,":").concat(r):function(e){var t=(new Date).getTime()-144e4;if(!(e=u(e))||""===e)return!1;var t=new Date(new Date(t).toLocaleDateString()).getTime(),i=new Date,i=new Date((new Date).setFullYear(i.getFullYear()-1)),i=new Date(i.toLocaleDateString()).getTime();return e.getTime()<t&&e.getTime()>=i}(e)?"minute"===t?"".concat(s,"-").concat(a," ").concat(n,":").concat(o):"".concat(s,"-").concat(a," ").concat(n,":").concat(o,":").concat(r):function(e){if(!(e=u(e))||""===e)return!1;var t=new Date,t=new Date((new Date).setFullYear(t.getFullYear()-1)),t=new Date(t.toLocaleDateString()).getTime();return e.getTime()<t}(e)?"minute"===t?"".concat(i,"-").concat(s,"-").concat(a," ").concat(n,":").concat(o):"".concat(i,"-").concat(s,"-").concat(a," ").concat(n,":").concat(o,":").concat(r):""},isToday:c,formatMediaTime:function(e){var t,i,s="";return e<60?s="00:"+(e<10?"0":"")+e:e<3600?s=((t=Math.floor(e/60))<10?"0":"")+t+":"+((e-=60*t)<10?"0":"")+e:3600<=e&&(e=(e-=3600*(t=Math.floor(e/3600)))-60*(i=Math.floor(e/60)),s="".concat(t).padStart(2,0)+":"+"".concat(i).padStart(2,0)+":"+(e<10?"0":"")+e),s},isYesterday:p}}}]);