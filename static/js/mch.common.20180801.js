window['MCH.common.time'] && window['MCH.common.time'].push(new Date());
function $addToken(url,type,skey){var token=$getToken(skey);if(url==""||(url.indexOf("://")<0?location.href:url).indexOf("http")!=0){return url;}
if(url.indexOf("#")!=-1){var f1=url.match(/\?.+\#/);if(f1){var t=f1[0].split("#"),newPara=[t[0],"&g_tk=",token,"&g_ty=",type,"#",t[1]].join("");return url.replace(f1[0],newPara);}else{var t=url.split("#");return[t[0],"?g_tk=",token,"&g_ty=",type,"#",t[1]].join("");}}
return token==""?(url+(url.indexOf("?")!=-1?"&":"?")+"g_ty="+type):(url+(url.indexOf("?")!=-1?"&":"?")+"g_tk="+token+"&g_ty="+type);};var $ajax=(function(window,undefined){var oXHRCallbacks,xhrCounter=0;var fXHRAbortOnUnload=window.ActiveXObject?function(){for(var key in oXHRCallbacks){oXHRCallbacks[key](0,1);}}:false;return function(opt){var o={url:'',method:'GET',data:null,type:"text",async:true,cache:false,timeout:0,autoToken:true,username:'',password:'',beforeSend:$empty(),onSuccess:$empty(),onError:$empty(),onComplete:$empty()};for(var key in opt){o[key]=opt[key]}
var callback,timeoutTimer,xhrCallbackHandle,ajaxLocation,ajaxLocParts;try{ajaxLocation=location.href;}
catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href;}
ajaxLocParts=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/.exec(ajaxLocation.toLowerCase())||[];o.isLocal=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ajaxLocParts[1]);o.method=(typeof(o.method)!="string"||o.method.toUpperCase()!="POST")?"GET":"POST";o.data=(typeof o.data=="string")?o.data:$makeUrl(o.data);if(o.method=='GET'&&o.data){o.url+=(o.url.indexOf("?")<0?"?":"&")+o.data;}
if(o.autoToken){o.url=$addToken(o.url,"ajax");}
o.xhr=$xhrMaker();if(o.xhr===null){return false;}
try{if(o.username){o.xhr.open(o.method,o.url,o.async,o.username,o.password);}
else{o.xhr.open(o.method,o.url,o.async);}}
catch(e){o.onError(-2,e);return false;}
if(o.method=='POST'){o.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');}
if(!o.cache){o.xhr.setRequestHeader('If-Modified-Since','Thu, 1 Jan 1970 00:00:00 GMT');o.xhr.setRequestHeader('Cache-Control','no-cache');}
o.beforeSend(o.xhr);if(o.async&&o.timeout>0){if(o.xhr.timeout===undefined){timeoutTimer=setTimeout(function(){if(o.xhr&&callback){callback(0,1);}
o.onError(0,null,'timeout');},o.timeout);}
else{o.xhr.timeout=o.timeout;o.xhr.ontimeout=function(){if(o.xhr&&callback){callback(0,1);}
o.onError(0,null,'timeout');};}}
o.xhr.send(o.method=='POST'?o.data:null);callback=function(e,isAbort){if(timeoutTimer){clearTimeout(timeoutTimer);timeoutTimer=undefined;}
if(callback&&(isAbort||o.xhr.readyState===4)){callback=undefined;if(xhrCallbackHandle){o.xhr.onreadystatechange=$empty();if(fXHRAbortOnUnload){try{delete oXHRCallbacks[xhrCallbackHandle];}
catch(e){}}}
if(isAbort){if(o.xhr.readyState!==4){o.xhr.abort();}}
else{var status,statusText,responses;responses={headers:o.xhr.getAllResponseHeaders()};status=o.xhr.status;try{statusText=o.xhr.statusText;}
catch(e){statusText="";}
try{responses.text=o.xhr.responseText;}
catch(e){responses.text="";}
if(!status&&o.isLocal){status=responses.text?200:404;}
else if(status===1223){status=204;}
if(status>=200&&status<300){responses.text=responses.text.replace(/<!--\[if !IE\]>[\w\|]+<!\[endif\]-->/g,'');switch(o.type){case'text':o.onSuccess(responses.text);break;case"json":var json;try{json=(new Function("return ("+responses.text+")"))();}
catch(e){o.onError(status,e,responses.text);}
if(json){o.onSuccess(json);}
break;case"xml":o.onSuccess(o.xhr.responseXML);break;}}
else{if(status===0&&o.timeout>0){o.onError(status,null,'timeout');}
else{o.onError(status,null,statusText);}}
o.onComplete(status,statusText,responses);}
delete o.xhr;}};if(!o.async){callback();}
else if(o.xhr.readyState===4){setTimeout(callback,0);}
else{xhrCallbackHandle=++xhrCounter;if(fXHRAbortOnUnload){if(!oXHRCallbacks){oXHRCallbacks={};if(window.attachEvent){window.attachEvent("onunload",fXHRAbortOnUnload);}
else{window["onunload"]=fXHRAbortOnUnload;}}
oXHRCallbacks[xhrCallbackHandle]=callback;}
o.xhr.onreadystatechange=callback;}};})(window,undefined);function $empty(){return function(){return true;}};function $getCookie(name){var reg=new RegExp("(^| )"+name+"(?:=([^;]*))?(;|$)"),val=document.cookie.match(reg);return val?(val[2]?unescape(val[2]):""):null;};function $getToken(skey){var skey=skey?skey:$getCookie("skey");return skey?$time33(skey):"";};function $isPInt(v){return/^[1-9]\d*$/.test(v);};function $makeUrl(data){var arr=[];for(var k in data){arr.push(k+"="+data[k]);};return arr.join("&");};function $md5(){var hexcase=0;var b64pad="";var chrsz=8;var option={};option.hexcase=hexcase;option.b64pad=b64pad;option.chrsz=chrsz;option.hex_md5=hex_md5;option.binl2hex=binl2hex;option.core_md5=core_md5;return option;function hex_md5(s){return binl2hex(core_md5(str2binl(s),s.length*option.chrsz));}
function binl2hex(binarray){var hex_tab=option.hexcase?"0123456789ABCDEF":"0123456789abcdef";var str="";for(var i=0;i<binarray.length*4;i++)
{str+=hex_tab.charAt((binarray[i>>2]>>((i%4)*8+4))&0xF)+
hex_tab.charAt((binarray[i>>2]>>((i%4)*8))&0xF);}
return str;}
function core_md5(x,len){x[len>>5]|=0x80<<((len)%32);x[(((len+64)>>>9)<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd);}
return Array(a,b,c,d);}
function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b);}
function md5_ff(a,b,c,d,x,s,t){return md5_cmn((b&c)|((~b)&d),a,b,x,s,t);}
function md5_gg(a,b,c,d,x,s,t){return md5_cmn((b&d)|(c&(~d)),a,b,x,s,t);}
function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t);}
function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|(~d)),a,b,x,s,t);}
function safe_add(x,y){var lsw=(x&0xFFFF)+(y&0xFFFF);var msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&0xFFFF);}
function bit_rol(num,cnt){return(num<<cnt)|(num>>>(32-cnt));}
function str2binl(str){var bin=Array();var mask=(1<<option.chrsz)-1;for(var i=0;i<str.length*option.chrsz;i+=option.chrsz)
bin[i>>5]|=(str.charCodeAt(i/option.chrsz)&mask)<<(i%32);return bin;}};function $namespace(name){for(var arr=name.split(','),r=0,len=arr.length;r<len;r++){for(var i=0,k,name=arr[r].split('.'),parent={};k=name[i];i++){i===0?eval('(typeof '+k+')==="undefined"?('+k+'={}):"";parent='+k):(parent=parent[k]=parent[k]||{});}}};function $strReplace(str,re,rt){if(rt!=undefined){replace(re,rt);}else{for(var key in re){replace(key,re[key]);};};function replace(a,b){var arr=str.split(a);str=arr.join(b);};return str;};function $time33(str){for(var i=0,len=str.length,hash=5381;i<len;++i){hash+=(hash<<5)+str.charAt(i).charCodeAt();};return hash&0x7fffffff;};function $xhrMaker(){var xhr;try{xhr=new XMLHttpRequest();}catch(e){try{xhr=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){try{xhr=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){xhr=null;}}};return xhr;};$namespace("MCH.common");var Common=Common||{};if($('#header-masker').length==0){var maskDivModel='<div class="mask-layer hide" id="header-masker"></div>';$('body').append(maskDivModel);}
var maskV1=$('#header-masker');Common.floatMask={show:function(){maskV1.removeClass('hide');},hide:function(){maskV1.addClass('hide');}};Common.getCsrfName=function(){return $("#CsrfInput").attr("name");};Common.getCsrfValue=function(){return $("#CsrfInput").val();};Common.getCrsfToken=function(){return Common.getCsrfName()+'='+Common.getCsrfValue();};Common.getPop=function(popID){var openClass=arguments[2]?arguments[2]:"";var closeClass=arguments[1]?arguments[1]:"JSCloseDG";var obj=$('#'+popID);var obj_hd=obj.find(".dialog-hd");var obj_bd=obj.find(".dialog-bd");var pop={open:function(){Common.floatMask.show();obj.removeClass('hide');if(obj_bd&&obj_hd){var max_height=window.screen.availHeight-obj_hd.height()-obj_bd.css("padding-bottom").replace("px","")-obj_bd.css("padding-top").replace("px","")-100;var origin_height=obj_bd.css("max-height").replace("px","");if(origin_height>max_height){obj_bd.css("max-height",max_height+"px");}}
var height=window.document.getElementById(popID).clientHeight;height=height>400?height:400;obj.css('margin-top',-height/2);},close:function(){Common.floatMask.hide();obj.addClass('hide');}};obj.find('.'+closeClass).on('click',pop.close);if(openClass!=""){$('.'+openClass).on('click',pop.open);}
return pop;};Common.getPopChain=function(){var chain={curIndex:0,list:[],add:function(pop){this.list.push(pop);},next:function(){this.list[this.curIndex].close();if(this.curIndex!=(this.list.length-1)){this.curIndex++;this.list[this.curIndex].open();}},last:function(){this.list[this.curIndex].close();if(this.curIndex!=0){this.curIndex--;this.list[this.curIndex].open();}},init:function(){this.curIndex=0;for(var i=0;i<this.list.length;i++){this.list[i].close();}},open:function(){this.init();this.list[0].open();}};return chain;};Common.getSelect=function(id){var params=arguments[2]?arguments[2]:{};var dropMenu=$('#'+id);var s={dropSwitch:dropMenu.find('a.dropdown-switch'),dropLabel:dropMenu.find('a.dropdown-switch').children('label'),dropUL:dropMenu.find('ul.dropdown-list'),itemModel:'<li><a href="#" data-target="{#value#}">{#text#}</a></li>',setValue:function(value){this.dropSwitch.attr('data-target',value);},setText:function(text){this.dropLabel.text(text);},getValue:function(){return this.dropSwitch.attr('data-target');},getText:function(){return this.dropLabel.text();},onSelect:function(id){},addItem:function(value,text){var arr=[];arr.push($strReplace(this.itemModel,{"{#value#}":value,"{#text#}":text}));this.dropUL.append(arr.join(''));},clear:function(){this.dropUL.children().remove();},show:function(){dropMenu.removeClass('hide');},hide:function(){dropMenu.addClass('hide');}};typeof params.onSelect=='function'&&(s.onSelect=function(id){params.onSelect(id);});dropMenu.unbind('click');dropMenu.on('click',function(){if($(this).hasClass('open')){$(this).removeClass('open');}else{$(this).addClass('open');}});dropMenu.mouseleave(function(){if($(this).hasClass('open')){$(this).removeClass('open');}});s.dropUL.on('click','li',function(e){var value=$(this).children("a").attr('data-target');var text=$(this).children("a").text();s.setValue(value);s.setText(text);s.onSelect(id);});return s;};Common.getMSelect=function(){var idOwner=arguments[1]?arguments[1]:"IDOwner";var idMerchant=arguments[2]?arguments[2]:"IDMerchant";var selectOwner=Common.getSelect(idOwner);var selectMerchant=Common.getSelect(idMerchant);var s={needAll:1,getMerchantId:function(){var value=selectMerchant.getValue();if(value!=''&&value!=undefined){return value;}else{return $getCookie('merchant_id');}},getOwner:function(){var value=selectOwner.getValue();if(value!=''&&value!=undefined){return value;}else{return'self';}},updateMerchant:function(){selectMerchant.clear();var owner=this.getOwner();if(owner!='self'){selectMerchant.show();var postData=Common.getCrsfToken()+'&owner='+owner;$ajax({url:'/index.php/core/merchant/get_relation_merchant',data:postData,method:'post',type:'json',async:true,onSuccess:function(data){MCH.header.handleAjax(data);if(data.errorcode==0){var label='';if(owner=='child'){label='下属商户';}else if(owner=='father'){label='受理机构';}
var list=data.data;var length=list.length;if(this.needAdd&&length>0){selectMerchant.addItem(-9999,'所有的'+label);}
for(var i=0;i<length;i++){selectMerchant.addItem(list[i].id,label+list[i].code);}
if(length>0){selectMerchant.setValue(list[0].id);selectMerchant.setText(label+list[0].code);}else{selectMerchant.setValue('');selectMerchant.setText('');}}},onError:function(msg){}});}else{selectMerchant.setValue('');selectMerchant.hide();}},updateOwner:function(){}};selectOwner.onSelect=function(id){s.updateMerchant();};return s;};Common.getBrowserVersion=function(){var v=new Array();var Sys={};v.browserVersion='Unknown';v.browserName='Unknown';v.osType='default';var ua=navigator.userAgent.toLowerCase();window.ActiveXObject?Sys.ie=ua.match(/msie ([\d.]+)/)[1]:(ua.indexOf("firefox")!=-1)?Sys.firefox=ua.match(/firefox\/([\d.]+)/)[1]:(ua.indexOf("chrome")!=-1)?Sys.chrome=ua.match(/chrome\/([\d.]+)/)[1]:window.opera?Sys.opera=ua.match(/opera.([\d.]+)/)[1]:window.openDatabase?Sys.safari=ua.match(/version\/([\d.]+)/)[1]:0;if(Sys.ie){v.browserVersion=Sys.ie;v.browserName="IE";};if(Sys.firefox){v.browserVersion=Sys.firefox;v.browserName="Firefox";};if(Sys.chrome){v.browserVersion=Sys.chrome;v.browserName="Chrome";};if(Sys.opera){v.browserVersion=Sys.opera;v.browserName="Opera";};if(Sys.safari){v.browserVersion=Sys.safari;v.browserName="Safari";};if(ua.indexOf("windows")>0){v.osType="windows";}else if(ua.indexOf("mac os x")>0){v.osType="mac";}else if(ua.indexOf("linux")>0){v.osType="linux";}else{v.osType="default";}
return v;}
Common.exdAttrBrowser=function(){var browerVer=Common.getBrowserVersion();switch(browerVer.browserName){case"Chrome":Common.ossAttrIncAPI(63769,42);if(browerVer.browserVersion>"42"){Common.exdAttrAPI(864857);}
break;case"Firefox":Common.ossAttrIncAPI(63769,43);break;case"IE":Common.ossAttrIncAPI(63769,44);if(browerVer.browserVersion=="6.0"){Common.ossAttrIncAPI(63769,47);}else if(browerVer.browserVersion=="7.0"){Common.ossAttrIncAPI(63769,48);}else if(browerVer.browserVersion=="8.0"){Common.ossAttrIncAPI(63769,49);}else if(browerVer.browserVersion=="9.0"){Common.ossAttrIncAPI(63769,50);}else if(browerVer.browserVersion=="10.0"){Common.ossAttrIncAPI(63769,51);}else if(browerVer.browserVersion=="11.0"){Common.ossAttrIncAPI(63769,52);}else{Common.ossAttrIncAPI(63769,53);}
break;case"Safari":Common.ossAttrIncAPI(63769,45);break;case"Opera":Common.ossAttrIncAPI(63769,46);break;default:break;}
switch(browerVer.osType){case"windows":Common.ossAttrIncAPI(63769,61);break;case"mac":Common.ossAttrIncAPI(63769,62);break;case"linux":Common.ossAttrIncAPI(63769,63);break;default:Common.ossAttrIncAPI(63769,64);break;}
Common.reportIEBrowserVersion();};Common.reportIEBrowserVersion=function(){var browserVersion;if(document.all&&!window.XMLHttpRequest){browserVersion='IE 6';Common.ossAttrIncAPI(63769,54);}else if(document.all&&window.XMLHttpRequest&&!document.querySelector){browserVersion='IE 7';Common.ossAttrIncAPI(63769,55);}else if(document.all&&document.querySelector&&!document.addEventListener){browserVersion='IE 8';Common.ossAttrIncAPI(63769,56);}else if(document.all&&document.addEventListener&&!window.atob){browserVersion='IE 9';Common.ossAttrIncAPI(63769,57);}else if(eval("/*@cc_on!@*/false")&&document.documentMode===10){browserVersion='IE 10';Common.ossAttrIncAPI(63769,58);}else if('-ms-scroll-limit'in document.documentElement.style&&'-ms-ime-align'in document.documentElement.style){browserVersion='IE 11';Common.ossAttrIncAPI(63769,59);}else if(navigator.appVersion.indexOf('Edge')>-1){browserVersion='IE Edge';Common.ossAttrIncAPI(63769,60);}
return browserVersion;};Common.exdAttrAPI=function(attrId){var postData='attrId='+attrId;$ajax({url:'/index.php/public/commoncgi/exdAttrAPI',data:postData,method:'post',type:'json',async:true,onSuccess:function(data){},onError:function(msg){}});};Common.ossAttrIncAPI=function(id,key){var postData='id='+id+'&key='+key;$ajax({url:'/webreport/ossattrapi',data:postData,method:'post',type:'json',async:true,onSuccess:function(data){},onError:function(msg){}});};Common.getMSelectInfo=function(){var idOwner=arguments[1]?arguments[1]:"IDOwner";var idMerchant=arguments[2]?arguments[2]:"IDMerchant";var selectOwner=Common.getSelect(idOwner);var selectMerchant=Common.getSelect(idMerchant);var selectMerchantInput=$("#IDMSelectInput");var objErr=selectMerchantInput.parent().find(".tips-error");var s={getMerchantId:function(){var value=selectMerchant.getValue();if(selectMerchantInput.hasClass('hide')||(selectMerchant.getValue()===undefined)){if(value===undefined){objErr.text("").addClass('hide');return $getCookie('merchant_id');}else if(this.getOwner()==='self'){objErr.text("").addClass('hide');return $getCookie('merchant_id');}else if(value===''){objErr.text("请选择订单归属").removeClass('hide');return false;}else{objErr.text("").addClass('hide');return value;}}else{var input_merchant_code=selectMerchantInput.find('input[name=inputMerchantCode]').val();if(input_merchant_code===""){objErr.text("请输入商户号").removeClass('hide');return false;}else if(!/^[0-9]{3}$|^[0-9]{8,10}$/.test(input_merchant_code)){objErr.text("请输入正确格式的商户号").removeClass('hide');return false;}else{var owner=this.getOwner();var postData=Common.getCrsfToken()+'&owner='+owner+'&input_merchant_code='+input_merchant_code;$ajax({url:'/index.php/core/merchant/judge_merchant_relation_select',data:postData,method:'post',type:'json',async:false,onSuccess:function(data){if(data.errorcode==0){value=data.data.input_merchant_id;objErr.text('').addClass('hide');}else{objErr.text(data.msg).removeClass('hide');value=false;}},onError:function(msg){objErr.text("绑定关系商户列表查询失败，请刷新页面后重试").removeClass('hide');value=false;}});return value;}}},getOwner:function(){var value=selectOwner.getValue();if(value===undefined){objErr.text("").addClass('hide');return'self';}else if(value===''){objErr.text("请选择订单归属").removeClass('hide');return false;}else{objErr.text("").addClass('hide');return value;}},updateMerchant:function(){selectMerchant.clear();var owner=this.getOwner();if(owner!='self'){var postData=Common.getCrsfToken()+'&owner='+owner;$ajax({url:'/index.php/core/merchant/query_merchant_relation_info',data:postData,method:'post',type:'json',async:false,onSuccess:function(data){MCH.header.handleAjax(data);if(data.errorcode==0){if(data.data.total<=49){selectMerchant.show();selectMerchantInput.addClass('hide');objErr.addClass('hide');var list=data.data.merchantPoMaps;var length=list.length;for(var i=0;i<length;i++){selectMerchant.addItem(list[i].merchant_id,list[i].merchant_code+" | "+list[i].merchant_name);}
if(length>0){selectMerchant.setValue(list[0].merchant_id);selectMerchant.setText(list[0].merchant_code+" | "+list[0].merchant_name);}else{selectMerchant.setValue('');selectMerchant.setText('');}}else{selectMerchant.setValue('');selectMerchant.setText('');selectMerchant.hide();selectMerchantInput.find('input[name=inputMerchantCode]').val('');selectMerchantInput.removeClass('hide');objErr.addClass('hide');}}},onError:function(msg){selectMerchant.setValue('');selectMerchant.setText('');selectMerchantInput.find('input[name=inputMerchantCode]').val('');selectMerchantInput.addClass('hide');objErr.text("绑定关系商户列表查询失败，请刷新页面后重试").removeClass('hide');}});}else{selectMerchant.setValue('');selectMerchant.hide();selectMerchantInput.find('input[name=inputMerchantCode]').val('');selectMerchantInput.addClass('hide');objErr.addClass('hide');}},updateOwner:function(){},clearSelect:function(){selectMerchant.setValue('');selectMerchant.hide();selectMerchantInput.find('input[name=inputMerchantCode]').val('');selectMerchantInput.addClass('hide');objErr.addClass('hide');selectOwner.setValue('');selectOwner.setText('请选择订单归属');},showErrMsg:function(msg){objErr.text(msg).removeClass('hide');},clearErrMsg:function(msg){objErr.text('').addClass('hide');}};selectOwner.onSelect=function(id){s.updateMerchant();};selectMerchantInput.find('input[name=inputMerchantCode]').on('blur',function(){s.getMerchantId();});return s;};Common.log=function(content){if(typeof window.console!='undefined'){console.log(content);}else{console=(function(){var instance=null;function Constructor(){this.div=document.createElement("console");this.div.id="console";this.div.style.cssText="filter:alpha(opacity=80);position:absolute;top:0px;left:0px;width:100%;border:1px solid #ccc;background:#eee;";document.body.appendChild(this.div);}
Constructor.prototype={log:function(str){var p=document.createElement("p");p.innerHTML=str;this.div.appendChild(p);}};function getInstance(){if(instance==null){instance=new Constructor();}
return instance;}
return getInstance();})();console.log(content);}};Common.getPager=function(id,callBack,init){var pager=$('#'+id);init=init?true:false;var p={getCurPage:function(){var curpage=pager.find("label[name=curpage]").text();if(curpage==''){curpage=1;}else{curpage=parseInt(curpage,10);}
return curpage;},getTotalPage:function(){return parseInt(pager.find("label[name=total_page]").text(),10);},setPage:function(curpage,total_page){$(pager).find("label[name=curpage]").text(curpage);$(pager).find("label[name=total_page]").text(total_page);if(curpage==1){pager.find("a.page-first").addClass("dis");pager.find("a.page-prev i").addClass("dis");}else{pager.find("a.page-first").removeClass("dis");pager.find("a.page-prev i").removeClass("dis");}
if(curpage==total_page){pager.find("a.page-last").addClass("dis");pager.find("a.page-next i").addClass("dis");}else{pager.find("a.page-last").removeClass("dis");pager.find("a.page-next i").removeClass("dis");}
if(total_page==''||total_page<=1){pager.addClass('hide');}else{pager.removeClass('hide');}},nextPage:function(){var curpage=this.getCurPage();var total_page=this.getTotalPage();if($isPInt(curpage)&&$isPInt(total_page)&&(total_page>curpage)){total_page=callBack(curpage+1);total_page=(total_page>=1&&total_page!==true)?total_page:this.getTotalPage();this.setPage(curpage+1,total_page);}},prevPage:function(){var curpage=this.getCurPage();var total_page=this.getTotalPage();if($isPInt(curpage)&&(curpage>1)){total_page=callBack(curpage-1);total_page=(total_page>=1&&total_page!==true)?total_page:this.getTotalPage();this.setPage(curpage-1,total_page);}},lastPage:function(){var curpage=this.getCurPage();var total_page=this.getTotalPage();if(total_page!=curpage&&$isPInt(curpage)&&$isPInt(total_page)){total_page=callBack(total_page);total_page=(total_page>=1&&total_page!==true)?total_page:this.getTotalPage();this.setPage(total_page,total_page);}},firstPage:function(){var curpage=this.getCurPage();var total_page=this.getTotalPage();if(curpage!=1&&$isPInt(curpage)){total_page=callBack(1);total_page=(total_page>=1&&total_page!==true)?total_page:this.getTotalPage();this.setPage(1,total_page);}},goPage:function(){var go_page=parseInt(pager.find(".page-go").parent().find("input").val(),10);var curpage=this.getCurPage();var total_page=this.getTotalPage();if($isPInt(curpage)&&$isPInt(total_page)&&$isPInt(go_page)&&go_page<=total_page&&go_page!=curpage){total_page=callBack(go_page);total_page=(total_page>=1&&total_page!==true)?total_page:this.getTotalPage();this.setPage(go_page,total_page);}},indexPage:function(){var total_page=callBack(1);total_page=(total_page>=1&&total_page!==true)?total_page:this.getTotalPage();if($isPInt(total_page)){this.setPage(1,total_page);}else{this.setPage(1,1);}}};if(init){p.indexPage();}else{p.setPage(1,1);}
pager.on("click","a.page-prev",function(){p.prevPage();});pager.on("click","a.page-next",function(){p.nextPage();});pager.on("click","a.page-first",function(){p.firstPage();});pager.on("click","a.page-last",function(){p.lastPage();});pager.on("click","a.page-go",function(){p.goPage();});return p;};Common.getMerchantSelect=function(){var idOwner=arguments[1]?arguments[1]:"IDOwner";var idMerchant=arguments[2]?arguments[2]:"IDMerchant";var objOwner=$('#'+idOwner);var objMerchant=$('#'+idMerchant);var s={needAll:1,getMerchantId:function(){var value=objMerchant.attr('data-target');if(value!=''&&value!=undefined){return value;}else{return $getCookie('merchant_id');}},getOwner:function(){var value=objOwner.attr('data-target');if(value!=''&&value!=undefined){return value;}else{return'self';}},updateMerchant:function(){var ul=objMerchant.next('ul');ul.children().remove();var owner=this.getOwner();if(owner!='self'){objMerchant.parent().removeClass('hide');var postData=Common.getCrsfToken()+'&owner='+owner;$ajax({url:'/index.php/core/merchant/get_relation_merchant',data:postData,method:'post',type:'json',async:true,onSuccess:function(data){MCH.header.handleAjax(data);if(data.errorcode==0){var model='<li><a href="#" data-target="{#merchantId#}">{#label#}{#merchantId2#}</a></li>';var label='';if(owner=='child'){label='下属商户';}else if(owner=='father'){label='受理机构';}
var list=data.data;var length=list.length;var arr=[];if(this.needAdd&&length>0){arr.push($strReplace(model,{"{#merchantId#}":-9999,"{#merchantId2#}":'',"{#label#}":'所有的'+label}));}
for(var i=0;i<length;i++){arr.push($strReplace(model,{"{#merchantId#}":list[i].id,"{#merchantId2#}":list[i].code,"{#label#}":label}));}
ul.append(arr.join(''));if(length>0){objMerchant.attr('data-target',list[0].id);objMerchant.children('label').text(label+list[0].code);}else{objMerchant.attr('data-target','');objMerchant.children('label').text('');}}},onError:function(msg){}});}else{objMerchant.attr('data-target','');objMerchant.parent().addClass('hide');}},updateOwner:function(){}};window.SelectCallBack=function(id,name){if(id=='IDOwnerLabel'){s.updateMerchant();}};return s;};Common.getCbx=function(params){var obj=null;if(params.id!=""&&params.id!=null){obj=$('#'+params.id);}else if(params.className!=""&&params.className!=null){obj=$('.'+params.className);}else{return;}
var c={isCheck:function(){if(obj.hasClass('cbx-on')){return true;}else{return false;}},check:function(){obj.addClass('cbx-on');this.onCheck();},unCheck:function(){obj.removeClass('cbx-on');this.onUnCheck();},onClick:function(){},onCheck:function(){},onUnCheck:function(){}};typeof params.onClick=='function'&&(c.onClick=function(){params.onClick();});typeof params.onCheck=='function'&&(c.onCheck=function(){params.onCheck();});typeof params.onUnCheck=='function'&&(c.onUnCheck=function(){params.onUnCheck();});obj.on('click',function(){c.onClick();if(c.isCheck()){c.unCheck();}else{c.check();}});return c;};Common.getBindPopup=function(id){var popup='#'+id;var popupObj=$(popup);var popup_in='.audit_config_popup_in';var popup_next='.audit_config_popup_next';var popup_out_in='.audit_config_popup_out_in';var popup_out_out_in='.audit_config_popup_out_out_in';$(popupObj).on("mouseover",popup_in,function(){$(this).find(".popup").removeClass("hide");});$(popupObj).on("mouseleave",popup_in,function(){$(this).find(".popup").addClass("hide");});$(popupObj).on("mouseover",popup_next,function(){$(this).parent().find(".popup").removeClass("hide");});$(popupObj).on("mouseleave",popup_next,function(){$(this).parent().find(".popup").addClass("hide");});$(popupObj).on("mouseover",popup_out_in,function(){$(this).parent().find(".popup").parent().removeClass("hide");});$(popupObj).on("mouseleave",popup_out_in,function(){$(this).parent().find(".popup").parent().addClass("hide");});$(popupObj).on("mouseover",popup_out_out_in,function(){$(this).parent().parent().find(".popup").removeClass("hide");});$(popupObj).on("mouseleave",popup_out_out_in,function(){$(this).parent().parent().find(".popup").addClass("hide");});return popup;};Common.isTenpayMchByName=function(mchcode){var accountArr=mchcode.split("@");var length=accountArr.length;var mchId="";if(length>0){mchId=accountArr[accountArr.length-1];}
if(mchId.length>=10){return true;}else{return false;}};Common.isTenpayMch=function(){if($getCookie('login_id_type')=='1'){return true;}else{return false;}};Common.isValidPassword=function(password){var postData=Common.getCrsfToken()+'&password='+password;var ret={};$ajax({url:'/index.php/core/home/is_valid_password',data:postData,method:'post',type:'json',async:false,onSuccess:function(data){MCH.header.handleAjax(data);ret.code=data.errorcode;ret.msg=data.msg;},onError:function(msg){ret.code=-1;ret.msg='网络错误';}});return ret;};Common.isAdministrator=function(){var loginID=$getCookie('login_id');var merchantCode=$getCookie('merchant_code');var merchantCodeOther=$getCookie('merchant_code_other');if(loginID==merchantCode||loginID==merchantCodeOther){return true;}
return false;};Common.show=function(obj){obj.removeClass('hide');};Common.hide=function(obj){obj.addClass('hide');};Common.isValidLoginID=function(v){return/^[a-zA-Z0-9_]{6,12}$/.test(v);};Common.isImgVerify=function(v){return/^[a-zA-Z0-9_]{4}$/.test(v);};Common.isMsgVerify=function(v){return/^[a-zA-Z0-9_]{6}$/.test(v);};Common.errDG={show:function(text,title){$('#JSErrDGText').text(text);$('#JSErrDGTitle').text(title);var obj=Common.getPop('ErrDG');obj.open();}};Common.PhoneMSG={M:{bn:'',msgText:'',timer:'',seconds:'',type:'',mmpayCert:'',send:function(){if(this.mmpayCert.send_phone_msg(this.type)){var text="已发送,"+this.seconds+'秒后可重新发送';this.msgText.text(text);this.countDown(this.seconds);}else{this.showBtn();}},countDown:function(seconds){if(seconds>0){var that=this;this.timer=setTimeout("Common.PhoneMSG.M.showMsg("+seconds+")",1000);}else{this.showBtn();}},showMsg:function(seconds){var text="已发送,"+seconds+'秒后可重新发送';this.msgText.text(text);Common.hide(this.bn);Common.show(this.msgText);clearTimeout(this.timer);this.timer=0;this.countDown(seconds-1);},showBtn:function(){Common.hide(this.msgText);Common.show(this.bn);},bind:function(){var that=this;this.bn.on('click',function(){that.send();});},reset:function(){clearTimeout(this.timer);this.showBtn();}},bind:function(mmpayCert,btnID,msgID,resendSec,type){this.M.bn=$('#'+btnID);this.M.msgText=$('#'+msgID);this.M.seconds=resendSec;this.M.mmpayCert=mmpayCert;this.M.type=type;this.M.reset();this.M.bind();},send:function(mmpayCert,btnID,msgID,resendSec,type){this.bind(mmpayCert,btnID,msgID,resendSec,type);this.M.send();}};Common.getFR=function(id){var obj=$('#'+id);var fr={show:function(key){obj.children('').each(function(){Common.hide($(this));});Common.show(obj.find('[fr-tip='+key+']'));}};return fr;};Common.bindDatepicker=function(id,timepicker,step){var obj="#"+id+" input.datepicker-input-new";var objrow="#"+id+" a.date_anchor";if($(obj).size()<=0){return false;}
false?$jqueryUi():'';timepicker=timepicker?true:false;step=step?step:5;var format='Y-m-d';if(timepicker){format='Y-m-d H:i:s';}
$(obj).datetimepicker({defaultTime:'00:00:00',step:step,format:format,lang:'ch',timepicker:timepicker,closeOnDateSelect:!timepicker,scrollInput:false});$(obj).next("i.ico-date").on('click',function(){$(this).prev('input.datepicker-input-new').focus();});$(objrow).on("click",function(){var year=new Date().getFullYear();var month=new Date().getMonth()+1;var day=new Date().getDate();var week_day=new Date().getDay();if(week_day==0){week_day=6;}else{week_day=week_day-1;}
if(month<10){month="0"+month;}
if(day<10){day="0"+day;}
var begin_time=year+"-"+month+"-"+day+" 00:00:00";var end_time=year+"-"+month+"-"+day+" 23:59:59";var begin_time_u=Common.DateToUnix(begin_time);var end_time_u=Common.DateToUnix(end_time);if($(this).hasClass('date_today')){}else if($(this).hasClass('date_yesterday')){begin_time_u=begin_time_u-24*3600*1;begin_time=Common.UnixToDate(begin_time_u,1);end_time_u=end_time_u-24*3600*1;end_time=Common.UnixToDate(end_time_u,1);}else if($(this).hasClass('date_3days')){begin_time_u=begin_time_u-24*3600*2;begin_time=Common.UnixToDate(begin_time_u,1);}else if($(this).hasClass('date_7days')){begin_time_u=begin_time_u-24*3600*6;begin_time=Common.UnixToDate(begin_time_u,1);}else if($(this).hasClass('date_week')){begin_time_u=begin_time_u-24*3600*week_day;begin_time=Common.UnixToDate(begin_time_u,1);end_time_u=end_time_u+24*3600*(6-week_day);end_time=Common.UnixToDate(end_time_u,1);}else if($(this).hasClass('date_month')){begin_time=year+"-"+month+"-01 00:00:00";if(!(year%4!=0||(year%100==0&&year%400!=0))){var map_month=new Array(31,28,31,30,31,30,31,31,30,31,30,31);}else{var map_month=new Array(31,29,31,30,31,30,31,31,30,31,30,31);}
end_time=year+"-"+month+"-"+map_month[month-1]+" 23:59:59";}else if($(this).hasClass('date_all')){begin_time="";end_time="";}else{return false;}
var begin="#"+id+" input[name=begin_time]";var end="#"+id+" input[name=end_time]";if(timepicker){$(begin).val(begin_time);$(end).val(end_time);}else{$(begin).val(begin_time.split(" ")[0]);$(end).val(end_time.split(" ")[0]);}});};Common.bindDatepickerWithHours=function(id,step,initTime){var obj="#"+id+" input.datepicker-input-new";if($(obj).size()<=0){return false;}
false?$jqueryUi():'';step=step?step:60;step=step>=60?60:step;initTime=initTime?initTime:{Hour:0,Minute:0,Second:0};var calcTime=initTime;var calcRes=true;defaultTime="00:00:00";timesAllow=[];var getTimeFormate=function(initTime){var timeFormate="";var hourFormate="";var hour=0;var minuteFormate="";var minute=0;var secondFormate="";var second=0;if(initTime.Second<10){secondFormate=secondFormate+"0"+initTime.Second;second=initTime.Second;}else if(initTime.Second>=60){second=initTime.Second%60;if(second<10){secondFormate=secondFormate+"0"+second;}else{secondFormate=secondFormate+second;}
minute=minute+(initTime.Second-second)/60;}else{secondFormate=secondFormate+initTime.Second;second=initTime.Second;}
initTime.Minute=initTime.Minute+minute;minute=0;if(initTime.Minute<10){minuteFormate=minuteFormate+"0"+initTime.Minute;minute=initTime.Minute;}else if(initTime.Minute>=60){minute=initTime.Minute%60;if(minute<10){minuteFormate=minuteFormate+"0"+minute;}else{minuteFormate=minuteFormate+minute;}
hour=hour+(initTime.Minute-minute)/60;}else{minuteFormate=minuteFormate+initTime.Minute;minute=initTime.Minute;}
initTime.Hour=initTime.Hour+hour;hour=0;if(initTime.Hour<10){hourFormate=hourFormate+"0"+initTime.Hour;hour=initTime.Hour;}else if(initTime.Hour>=24){return false;}else{hourFormate=hourFormate+initTime.Hour;hour=initTime.Hour;}
timeFormate=hourFormate+":"+minuteFormate+":"+secondFormate;timeObj={formate:timeFormate,time:{Hour:hour,Minute:minute,Second:second},timeMark:hourFormate+":"+minuteFormate}
return timeObj;}
while(true){calcRes=getTimeFormate(calcTime);if(calcRes!=false){timesAllow.push(calcRes.timeMark);calcTime=calcRes.time;calcTime.Minute=calcTime.Minute+step;}else{break;}}
defaultTime=getTimeFormate(initTime).formate;$(obj).datetimepicker({defaultTime:defaultTime,step:step,format:'Y-m-d H:i:s',lang:'ch',timepicker:true,closeOnDateSelect:false,allowTimes:timesAllow,scrollInput:false});$(obj).next("i.ico-date").on('click',function(){$(this).prev('input.datepicker-input-new').focus();});};Common.datepickerYearMonth=null;Common.showDatepickerYearMonth=function(targetInput){if(this.datepickerYearMonth==null){this.datepickerYearMonth={isInit:0,targetInput:null,init:function(){if(this.isInit){return;}
this.isInit=1;var model='<div class="xdsoft_datetimepicker xdsoft_noselect" style="display: none;position: absolute; z-index:999;" id="idDatePickerYearMonth">'+'<div class="xdsoft_datepicker active">'+'<div class="xdsoft_mounthpicker">'+'<button type="button" class="xdsoft_prev"></button>'+'<div class="xdsoft_label xdsoft_year">'+'<span name="selected-year">2015</span>'+'<div class="xdsoft_select xdsoft_yearselect xdsoft_scroller_box" style="display: none;">'+'<div style="margin-top: 0px;">';for(var i=2014;i<2021;i++){model+='<div class="xdsoft_option " data-value="'+i+'">'+i+'</div>';}
model+='</div></div></div><button type="button" class="xdsoft_next"></button>';model+='<div class="xdsoft_calendar"><table><tbody>';for(var i=0;i<3;i++){var ii=i*4+1;model+='<tr><td data-month="'+ii+'" class="xdsoft_date xdsoft_date xdsoft_weekend"><div>'+ii+'</div></td>'+'<td data-month="'+(ii+1)+'" class="xdsoft_date xdsoft_date xdsoft_weekend"><div>'+(ii+1)+'</div></td>'+'<td data-month="'+(ii+2)+'" class="xdsoft_date xdsoft_date xdsoft_weekend"><div>'+(ii+2)+'</div></td>'+'<td data-month="'+(ii+3)+'" class="xdsoft_date xdsoft_date xdsoft_weekend"><div>'+(ii+3)+'</div></td></tr>';}
model+='</tbody></table></div></div></div>';$('body').after($(model));var datepicker=this;this.obj=$('#idDatePickerYearMonth');this.selectedYear=this.obj.find('span[name=selected-year]');this.yearBox=this.obj.find('div.xdsoft_yearselect');this.selectedYear.on('click',function(){datepicker.yearBox.css('display','block');});this.obj.find('div.xdsoft_option').on('click',function(){var value=$(this).attr('data-value');datepicker.setCurrentYear(value);datepicker.yearBox.css('display','none');});this.obj.find('td.xdsoft_date').on('click',function(){var selectYear=datepicker.getCurrentYear();var selectMonth=$(this).attr('data-month');var value=selectYear+'-'+selectMonth;if(datepicker.targetInput!=null){datepicker.targetInput.val(value);}
datepicker.obj.css('display','none');});var prevYearBtn=this.obj.find('button.xdsoft_prev');var nextYearBtn=this.obj.find('button.xdsoft_next');prevYearBtn.on('click',function(){datepicker.setCurrentYear(datepicker.getCurrentYear()-1);});nextYearBtn.on('click',function(){datepicker.setCurrentYear(datepicker.getCurrentYear()+1);});},setCurrentYear:function(year){this.obj.find('div.xdsoft_option.xdsoft_current').removeClass('xdsoft_current');this.obj.find('div[data-value='+year+']').addClass('xdsoft_current');this.selectedYear.text(year);},getCurrentYear:function(){return parseInt(this.selectedYear.text());},setCurrentMonth:function(month){this.obj.find('td.xdsoft_date.xdsoft_current').removeClass('xdsoft_current');this.obj.find('td[data-month='+month+']').addClass('xdsoft_current');},show:function(){if(this.targetInput!=null){var pos=this.targetInput.offset();this.obj.css('left',pos.left+"px");this.obj.css('top',pos.top+this.targetInput.height()+8+"px");var lastDate=this.targetInput.val();var currentYear=0;var currentMonth=0;if(lastDate!=''){var arr=lastDate.split('-');currentYear=arr[0];currentMonth=arr[1];}else{var myDate=new Date();currentYear=myDate.getFullYear();currentMonth=myDate.getMonth()+1;}
this.setCurrentYear(currentYear);this.setCurrentMonth(currentMonth);this.obj.css('display','block');}}};this.datepickerYearMonth.init();}
this.datepickerYearMonth.targetInput=targetInput;this.datepickerYearMonth.show();};Common.DateToUnix=function(endTime){var date=new Date();date.setFullYear(endTime.substring(0,4));date.setMonth(Number(endTime.substring(5,7))-1);date.setDate(endTime.substring(8,10));date.setHours(Number(endTime.substring(11,13)));date.setMinutes(Number(endTime.substring(14,16)));date.setSeconds(endTime.substring(17,19));return Date.parse(date)/1000;};Common.UnixToDate=function(tm,type){var tt=new Date(parseInt(tm)*1000);var year=tt.getFullYear();var month=tt.getMonth()+1;var day=tt.getDate();var hour=tt.getHours();var minute=tt.getMinutes();var second=tt.getSeconds();if(month<10){month="0"+month;}
if(day<10){day="0"+day;}
if(minute<10){minute="0"+minute;}
if(second<10){second="0"+second;}
if(type==1){var tt_d=year+"-"+month+"-"+day+" "+hour+":"+minute+":"+second;}else{var tt_d=year+"-"+month+"-"+day;}
return tt_d;};Common.getRadioGroup=function(params){var obj=null;if(params.className!=""&&params.className!=null){obj=$('.'+params.className);}else{return;}
var r={o:obj,data:'',getData:function(){return this.data;},check:function(data){obj.each(function(){if($(this).attr('data-target')==data){$(this).click();}});},init:function(){var that=this;that.o.on('click',function(){$(this).parent().find("i.rdo").removeClass('rdo-on');$(this).find("i.rdo").addClass('rdo-on');var data=$(this).attr('data-target');that.data=data;});}};r.init();return r;};Common.getURIArgs=function(){var args={};var match=null;var search=decodeURIComponent(location.search.substring(1));var reg=/(?:([^&]+)=([^&]+))/g;while((match=reg.exec(search))!==null){args[match[1]]=match[2];}
return args;};Common.isValidPayUrl=function(url){if(url==""||url==null){return'url不能为空';}
if(url.substr(url.length-1)!='/'){return'url必须以/结尾';}
return 0;};Common.isValidCheckCode=function(checkCode){var postData=Common.getCrsfToken()+'&verify_word='+checkCode;var result=true;$ajax({url:'/index.php/core/home/vaild_checkimg',data:postData,method:'post',type:'json',async:false,onSuccess:function(data){if(data.errorcode==0){result=true;}else{result=false;}},onError:function(msg){result=false;}});return result;};Common.isValidCallBackUrl=function(url){if(url==""||url==null){return'支付回调url不能为空';}
var http="http://";var https="https://";if(url.substr(0,http.length)!=http&&url.substr(0,https.length)!=https){return'支付回调url必须包含http或者https';}
return 0;};Common.isValidWarnUrl=function(url){if(url==""||url==null){return 0;}
var http="http://";var https="https://";if(url.substr(0,http.length)!=http&&url.substr(0,https.length)!=https){return'告警url必须包含http或者https';}
return 0;};Common.bindVeriyCode=function(){var clsName='js-change-verify-code';$('.'+clsName).on('click',function(){Common.changeVerifyCode();});};Common.changeVerifyCode=function(){var clsName='js-verify-code';if($("."+clsName).size()>0){$("."+clsName).attr("src","https://ssl.captcha.qq.com/getimage?aid=755049101&rd="+Math.random());}};Common.showAndHide=function(idControl,idAction){var that=this;var btn=$('#'+idControl);var act=$('#'+idAction);btn.on('click',function(){if(act.hasClass('hide')){act.removeClass('hide');}else{act.addClass('hide');}});};Common.showPopUp=function(){var clsName='showPopUpJS';$('.'+clsName).on("mouseover",function(){$(this).addClass("show-popup");});$('.'+clsName).on("mouseleave",function(){$(this).removeClass("show-popup");});};Common.encryptPassword=function(password){if(password.length<32){var m=$md5();return m.hex_md5(password);}
return password;};Common.showPopUp();Common.showDropdownBody=function(){var clsName='showDropdownBodyJs';$('.'+clsName).on("mouseover",function(){$(this).addClass("show-dropdown-body");});$('.'+clsName).on("mouseleave",function(){$(this).removeClass("show-dropdown-body");});};Common.showDropdownBody();
window['MCH.common']='22195:20180801:20180801155056';
window['MCH.common.time'] && window['MCH.common.time'].push(new Date());/*  |xGv00|1190bfaeac8e57e04da90cad8e7632b6 */